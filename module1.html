<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูููุฏููู ุงูุฃูู - ูุงููุง</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --primary-navy: #1a2b4c; --hover-light-blue: #5b8ee5; --bg-color: #f4f7fa; --success-color: #2ecc71; --whatsapp-color: #25D366; --canva-color: #8b3dff; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Cairo', sans-serif; background-color: var(--bg-color); color: #333; line-height: 1.8; padding-bottom: 90px;}

        /* ุงูุดุฑูุท ุงูุนููู */
        .top-bar { background-color: var(--primary-navy); color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .top-bar h1 { font-size: 20px; font-weight: 800; }
        .back-btn { background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 8px; text-decoration: none; font-weight: 700; transition: 0.3s; }
        .back-btn:hover { background: var(--hover-light-blue); }
        
        /* ุดุฑูุท ุงูุชูุฏู */
        .progress-container { background: white; padding: 15px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 30px;}
        .progress-text { font-weight: 800; color: var(--primary-navy); margin-bottom: 5px;}
        .progress-bar { width: 80%; max-width: 600px; height: 10px; background: #eef2f5; margin: 0 auto; border-radius: 10px; overflow: hidden;}
        .progress-fill { height: 100%; background: var(--hover-light-blue); width: 0%; transition: 0.4s;}

        /* ุงููุญุชูู */
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .step-container { display: none; animation: fadeIn 0.5s; }
        .step-container.active { display: block; }
        h2.step-title { color: var(--primary-navy); font-size: 26px; font-weight: 900; margin-bottom: 20px; border-bottom: 3px solid #eef2f5; padding-bottom: 10px; text-align: center; }
        .content-image { width: 100%; max-width: 800px; border-radius: 12px; margin: 20px auto; display: block; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .content-text { font-size: 17px; margin-bottom: 15px; color: #444; text-align: justify; line-height: 1.9; }
        .content-text strong { color: var(--primary-navy); }
        .content-list { margin-right: 20px; margin-bottom: 20px; }
        .content-list li { margin-bottom: 10px; font-size: 17px; }

        .task-instructions { background: #fffcf5; border: 1px solid #fdeec0; padding: 25px; border-radius: 12px; margin-bottom: 25px; }
        .task-instructions h3 { color: #e74c3c; margin-bottom: 15px; font-size: 20px; }
        .task-instructions p { font-weight: 700; color: #555; margin-bottom: 15px; }

        .action-btn { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 15px 30px; border-radius: 10px; font-size: 18px; font-weight: 800; text-decoration: none; color: white; margin: 20px auto; width: 100%; max-width: 400px; transition: 0.3s; text-align: center; cursor: pointer; border: none; }
        .whatsapp-btn { background-color: var(--whatsapp-color); }
        .canva-btn { background: linear-gradient(45deg, #00c4cc, #8b3dff); }

        /* ุงูุดุงุช ุจูุช ูุงูุดุงุดุฉ ุงููุฒุฏูุฌุฉ */
        .split-screen { display: flex; gap: 30px; flex-wrap: wrap; margin-top: 20px; }
        .split-right { flex: 1; min-width: 300px; }
        .split-left { flex: 1; min-width: 300px; }
        
        .chat-container { border: 1px solid #eef2f5; border-radius: 12px; overflow: hidden; background: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: flex; flex-direction: column; height: 500px; }
        .chat-header { background: var(--primary-navy); color: white; padding: 15px; font-weight: 800; display: flex; align-items: center; gap: 10px; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; background: #fdfefe; display: flex; flex-direction: column; gap: 15px; }
        
        .msg-bubble { max-width: 85%; padding: 12px 18px; border-radius: 12px; font-size: 15px; line-height: 1.6; position: relative; animation: fadeIn 0.3s ease; }
        .bot-msg { background: #eef2f5; color: #1a2b4c; align-self: flex-start; border-top-right-radius: 0; font-weight: 600; }
        .user-msg { background: var(--hover-light-blue); color: white; align-self: flex-end; border-top-left-radius: 0; font-weight: 700; }
        
        .typing-indicator { display: flex; gap: 5px; padding: 10px 15px; background: #eef2f5; border-radius: 12px; align-self: flex-start; border-top-right-radius: 0; display: none; }
        .typing-dot { width: 8px; height: 8px; background: #95a5a6; border-radius: 50%; animation: typing 1.4s infinite ease-in-out; }
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

        .chat-suggestions { padding: 10px; background: white; border-top: 1px solid #eee; display: flex; gap: 10px; overflow-x: auto; white-space: nowrap; scrollbar-width: none; }
        .chat-suggestions::-webkit-scrollbar { display: none; }
        .sugg-btn { background: white; border: 1px solid var(--hover-light-blue); color: var(--hover-light-blue); padding: 8px 15px; border-radius: 20px; font-size: 13px; font-weight: 700; cursor: pointer; transition: 0.3s; font-family: 'Cairo', sans-serif; flex-shrink: 0; }
        .sugg-btn:hover { background: var(--hover-light-blue); color: white; }
        
        .chat-input-area { display: flex; padding: 15px; background: white; border-top: 1px solid #eee; }
        .chat-input-area input { flex: 1; border: 1px solid #ddd; padding: 12px 15px; border-radius: 8px; font-family: 'Cairo', sans-serif; outline: none; transition: 0.3s; }
        .chat-input-area input:focus { border-color: var(--hover-light-blue); }
        .chat-input-area button { background: var(--hover-light-blue); color: white; border: none; width: 45px; height: 45px; border-radius: 8px; margin-right: 10px; cursor: pointer; transition: 0.3s; }
        .chat-input-area button:hover { background: var(--primary-navy); }

        /* ุณุชุงูู ุงูุงุฎุชุจุงุฑุงุช */
        .quiz-box { background: #fdfefe; border: 1px solid #eef2f5; border-radius: 12px; padding: 25px; margin-bottom: 30px; }
        .question { font-size: 18px; font-weight: 700; color: var(--primary-navy); margin-bottom: 15px; padding-top: 15px; border-top: 1px solid #eee; }
        .options-group { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 20px;}
        .options-group.mcq { flex-direction: column; gap: 10px; }
        .option-label { flex: 1; min-width: 120px; background: white; border: 2px solid #eef2f5; padding: 12px; border-radius: 8px; text-align: center; cursor: pointer; font-weight: 700; transition: 0.3s; }
        .options-group.mcq .option-label { text-align: right; }
        .option-label:hover { border-color: var(--hover-light-blue); background: #f0f4f8; }
        input[type="radio"] { display: none; }
        input[type="radio"]:checked + .option-label { background: var(--hover-light-blue); color: white; border-color: var(--hover-light-blue); }
        
        .quiz-submit-btn { background: var(--primary-navy); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 18px; font-weight: 800; cursor: pointer; width: 100%; transition: 0.3s; margin-top: 20px; font-family: 'Cairo', sans-serif;}
        .quiz-submit-btn:hover { background: var(--hover-light-blue); }
        
        .quiz-result { display: none; padding: 20px; margin-top: 20px; border-radius: 8px; font-weight: 800; text-align: center; font-size: 18px; line-height: 1.6; }
        .result-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .result-partial { background: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
        .result-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        /* ุงูุชููู ุงูุณููู */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 15px 30px; display: flex; justify-content: space-between; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; }
        .nav-btn { padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: 800; cursor: pointer; border: none; display: flex; align-items: center; gap: 8px; transition: 0.3s; font-family: 'Cairo', sans-serif; }
        .next-btn { background: var(--hover-light-blue); color: white; }
        .next-btn.disabled { background: #ccc; color: #666; cursor: not-allowed; }
        .next-btn.restart-btn { background: #e74c3c; color: white; }
        .prev-btn { background: #eef2f5; color: #555; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="top-bar">
        <h1><i class="fa-solid fa-palette"></i> ุงูููุฏููู ุงูุฃูู</h1>
        <a href="home.html" class="back-btn"><i class="fa-solid fa-house"></i> ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</a>
    </div>

    <div class="progress-container">
        <div class="progress-text" id="progressText"></div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>

    <div class="container">

        <div class="step-container" id="step-1"><h2 class="step-title">1. ูุจุฑุฑุงุช ุฏุฑุงุณุฉ ุงูููุฏููู</h2><img src="1000089585.jpg" class="content-image"><p class="content-text"><strong>ุนุฒูุฒู ุงูุทุงูุจ...</strong> ูู ุธู ุงูุซูุฑุฉ ุงููุนูููุงุชูุฉ ูุงูุชุทูุฑุงุช ุงููุชุณุงุฑุนุฉ ุฃุตุจุญ ูู ุงูุถุฑูุฑู ุงูุงูุชูุงู ุจุทุฑููุฉ ุชูุฏูู ุงููุญุชูู ุงูุชุนูููู ุฅูู ุฌุงูุจ ุงูุงูุชูุงู ุจูุถููููุ ุญูุซ ููุซู ุชุตููู ุงููุญุชูู ุจุตุฑููุง ุนูุตุฑูุง ุฃุณุงุณููุง ูู ุชูุถูุญ ุงูุฃููุงุฑ ูุชูุธูู ุงููุนูููุงุช ูุฌุฐุจ ุงูุชุจุงู ุงููุชุนูู ูุชูุณูุฑ ุงุณุชูุนุงุจู ูููุงุฏุฉ ุงูุชุนููููุฉ.</p><p class="content-text">ููู ููุง ุชุจุฑุฒ ุฃูููุฉ ููุงุฑุงุช ุชุตููู ุงููุญุชูู ุงูุชุนููููุ ููุง ููุง ูู ุฏูุฑ ูู ุชุญููู ุงููุนูููุงุช ุฅูู ููุงุฏ ุชุนููููุฉ ูุงุถุญุฉ ูุฌุฐุงุจุฉ ุชุณูู ุงูููู ูุชุฏุนู ุงูุชุนููุ ูููุฏู ูุฐุง ุงูููุฏููู ุฅูู ุชูููู ุงููุชุนูู ูู ุงูุชุณุงุจ ููุงุฑุงุช ุชุตููู ุงููุญุชูู ุงูุชุนูููู ูุชุทุจูููุง ุนููููุง ุจุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ูุงููุงุ ุจูุง ูุณุงุนุฏู ุนูู ุฅูุชุงุฌ ููุงุฏ ุชุนููููุฉ ุชุชุณู ุจุงููุถูุญ ูุงูุชูุธูู ูุงูุฌุงุฐุจูุฉุ ูุชุนูุณ ููููุง ุญูููููุง ูููุญุชููุ ูุชุณูู ูู ุชุทููุฑ ุฃุฏุงุฆู ููุนูู ุฃู ูุตูู ูุญุชูู ุชุนูููู.</p></div>
        <div class="step-container" id="step-2"><h2 class="step-title">2. ุฃูุฏุงู ุฏุฑุงุณุฉ ุงูููุฏููู</h2><img src="1000089586.jpg" class="content-image"></div>
        
        <div class="step-container" id="step-3">
            <h2 class="step-title">3. ุงูุงุฎุชุจุงุฑ ุงููุจูู ููููุฏููู</h2>
            <p class="content-text" style="background:#fdfefe; padding:15px; border-right:4px solid var(--hover-light-blue); margin-bottom:20px;"><strong>ุชุนูููุงุช:</strong> ูุฐุง ุงูุงุฎุชุจุงุฑ ูุญุฏุฏ ูุณุงุฑู. ุฅุฐุง ุญุตูุช ุนูู 90% ูุฃูุซุฑ ุณุชูุนูู ูู ุฏุฑุงุณุฉ ุงูููุฏูููุ ูุฅุฐุง ุญุตูุช ุนูู ุฃูู ูู ุฐูู ุณุชุจุฏุฃ ูู ุฏุฑุงุณุฉ ุงูููุฏููู ุงูุชุนูููู.</p>
            <div id="preTestContainer" class="quiz-box"></div>
            <button class="quiz-submit-btn" onclick="evaluatePreTest()" id="preTestSubmitBtn">ุฅููุงุก ุงูุงุฎุชุจุงุฑ ุงููุจูู</button>
            <div id="preTestResult" class="quiz-result"></div>
        </div>

        <div class="step-container" id="step-4">
            <h2 class="step-title">4. ุงููููุฉ ุงูุฃุฏุงุฆูุฉ ุงููุจููุฉ</h2>
            <div class="task-instructions">
                <h3>โ ุชุนูููุงุช ุฃุฏุงุก ุงููููุฉ ุงููุจููุฉ:</h3>
                <p>ุนุฒูุฒู ุงููุชุนูู... ูุจู ุงูุจุฏุก ูู ุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ููุทูุจ ููู ุชูููุฐ ุงููููุฉ ุงููุทููุจุฉ ุงุนุชูุงุฏูุง ุนูู ุฎุจุฑุงุชู ุงูุณุงุจูุฉ ููุนุงุฑูู ุงูุญุงููุฉ ุฏูู ุงูุฑุฌูุน ุฅูู ูุญุชูู ุงูููุฏูููุ ูุฐูู ุจูุฏู ุงูุชุนุฑู ุนูู ูุณุชูู ุฃุฏุงุฆู ุงูุญุงูู ูุจู ุงูุฏุฑุงุณุฉุ ูุฑุฌู ูุฑุงุนุงุฉ ุงูุชุนูููุงุช ุงูุขุชูุฉ:</p>
                <ul class="content-list">
                    <li>ุชูููุฐ ุงููููุฉ ุจุตูุฑุฉ ูุฑุฏูุฉ.</li>
                    <li>ุงูุงุนุชูุงุฏ ุนูู ููุงุฑุงุชู ุงูุญุงููุฉ ุฏูู ุงูุงุณุชุนุงูุฉ ุจุดุฑุญ ุงูููุฏููู.</li>
                    <li>ุงูุงูุชุฒุงู ุจูุชุทูุจุงุช ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ ูู ูุต ุงููููุฉ.</li>
                    <li>ุงุณุชููุงุก ุฌููุน ุนูุงุตุฑ ุงูุฃุฏุงุก ูุจู ุงูุชุณููู.</li>
                    <li>ุฑูุน ูุงุชุฌ ุงูุฃุฏุงุก ูู ุงูููุงู ุงููุฎุตุต ุฏุงุฎู ุงูุจูุฆุฉ ุงูุชุนููููุฉ.</li>
                </ul>
            </div>
            <img src="1000090312.jpg" alt="ุงููููุฉ ุงููุจููุฉ" class="content-image">
            <a href="https://wa.me/qr/D2OMSRXECH7UE1" target="_blank" class="action-btn whatsapp-btn"><i class="fa-brands fa-whatsapp"></i> ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</a>
        </div>

        <div class="step-container" id="step-5"><h2 class="step-title">5. ูุญุชูู ุงูููุฏููู: ุงูููุฏูุฉ</h2><img src="1000089597.jpg" class="content-image"><p class="content-text"><strong>ุงูุชุนุฑูู ุจุจุฑูุงูุฌ ูุงููุง Canva:</strong><br> ูุนุฏ ูุงููุง Canva ูู ุจุฑุงูุฌ ุงูุชุตููู ุงููุณุชุญุฏุซุฉ ุงููุงุฆูุฉ ุนูู ุงูููุจ ูุชุทุจููุงุช ุงูุฃุฌูุฒุฉ ุงูุฐููุฉ ุงูุชู ุชุชูุญ ุฅูุดุงุก ุงูุนุฑูุถ ุงูุชูุฏูููุฉ ูููุญุชูู ุงูุชุนููููุ ุญูุซ ูููุฑ ูุฌููุนุฉ ูุชููุนุฉ ูู ุงูููุงูุจ ุงูุฌุงูุฒุฉ ุงูุชู ุชุณุงุนุฏ ุนูู ุชุตููู ุดุฑุงุฆุญ ุงูุนุฑุถ ุจุตูุฑุฉ ููุธูุฉ ูุฌุฐุงุจุฉุ ูุน ุฃุฏูุงุช ูุงุถุญุฉ ููุชุญูู ูู ุงููุตูุต ูุงูุฃููุงู ูุงูุตูุฑ.</p></div>
        <div class="step-container" id="step-6"><h2 class="step-title">6. ูุฒุงูุง ุงุณุชุฎุฏุงู Canva</h2><img src="1000089598.jpg" class="content-image"><ul class="content-list"><li>ุจุณุงุทุฉ ูุงุฌูุฉ ุงูุงุณุชุฎุฏุงู ุงูุชู ุชุนุชูุฏ ุนูู ุงูุณุญุจ ูุงูุฅููุงุช.</li><li>ุชูุงูุฑ ุงูููุงูุจ ุงูุฌุงูุฒุฉ.</li><li>ุซุฑุงุก ุงูููุงุฑุฏ ุงูุจุตุฑูุฉ.</li><li>ุชูููุฑ ูุณุฎุฉ ูุฌุงููุฉ (Canva for Education).</li><li>ุงูุฏุนู ุงููุงูู ููุบุฉ ุงูุนุฑุจูุฉ.</li><li>ุชุนุฏุฏ ุตูุบ ุงูุญูุธ ูุงูุชุตุฏูุฑ.</li><li>ุณูููุฉ ุงููุตูู ูุงููุดุงุฑูุฉ.</li></ul></div>
        <div class="step-container" id="step-7"><h2 class="step-title">ุชูููู ุฐุงุชู (1)</h2><div class="quiz-box"><div class="question">1. ูุง ูุณูุญ ุจุฑูุงูุฌ Canva ุจูุดุงุฑูุฉ ุงูุนุฑูุถ ูุน ุงูุขุฎุฑูู ููุชุนุฏูู ุนูููุง.</div><div class="options-group"><input type="radio" name="sa1_q1" id="sa1_q1_t" value="true"><label class="option-label" for="sa1_q1_t">ุตูุงุจ</label><input type="radio" name="sa1_q1" id="sa1_q1_f" value="false"><label class="option-label" for="sa1_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูููุฑ ุจุฑูุงูุฌ ูุงููุง ููุงูุจ ุฌุงูุฒุฉ ูุชุตููู ุงููุญุชูู ุจุณูููุฉ.</div><div class="options-group"><input type="radio" name="sa1_q2" id="sa1_q2_t" value="true"><label class="option-label" for="sa1_q2_t">ุตูุงุจ</label><input type="radio" name="sa1_q2" id="sa1_q2_f" value="false"><label class="option-label" for="sa1_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa1', 'false', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa1" class="quiz-result"></div></div></div>
        <div class="step-container" id="step-8"><h2 class="step-title">ุงูุชุณุฌูู ูู ูุงููุง</h2><img src="1000089601.jpg" class="content-image"><a href="https://www.canva.com" target="_blank" class="action-btn canva-btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> ุชุทุจูู ุนููู ุนูู Canva</a></div>
        <div class="step-container" id="step-9"><h2 class="step-title">ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ</h2><img src="1000089824.jpg" class="content-image"></div>
        <div class="step-container" id="step-10"><h2 class="step-title">ุชูููู ุฐุงุชู (2)</h2><div class="quiz-box"><div class="question">1. ูุง ูููู ุชุนุฏูู ุงุณู ุงููุณุชุฎุฏู ูู Canva ุจุนุฏ ุฅูุดุงุก ุงูุญุณุงุจ.</div><div class="options-group"><input type="radio" name="sa2_q1" id="sa2_q1_t" value="true"><label class="option-label" for="sa2_q1_t">ุตูุงุจ</label><input type="radio" name="sa2_q1" id="sa2_q1_f" value="false"><label class="option-label" for="sa2_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูููู ุชุบููุฑ ูุบุฉ ูุงุฌูุฉ ุจุฑูุงูุฌ ูุงููุง ูู ุฎูุงู ุงูุฅุนุฏุงุฏุงุช (Settings).</div><div class="options-group"><input type="radio" name="sa2_q2" id="sa2_q2_t" value="true"><label class="option-label" for="sa2_q2_t">ุตูุงุจ</label><input type="radio" name="sa2_q2" id="sa2_q2_f" value="false"><label class="option-label" for="sa2_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa2', 'false', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa2" class="quiz-result"></div></div></div>
        <div class="step-container" id="step-11"><h2 class="step-title">ุฎุทูุงุช ุงูุชุตููู: ุฅูุดุงุก</h2><img src="1000089825.jpg" class="content-image"></div>
        <div class="step-container" id="step-12"><h2 class="step-title">ุฎุทูุงุช ุงูุชุตููู: ุชููุฆุฉ</h2><img src="1000089826.jpg" class="content-image"></div>
        <div class="step-container" id="step-13"><h2 class="step-title">ุฎุทูุงุช ุงูุชุตููู: ุนูุงุตุฑ</h2><img src="1000089827.jpg" class="content-image"></div>
        <div class="step-container" id="step-14"><h2 class="step-title">ุฎุทูุงุช ุงูุชุตููู: ูุตูุต</h2><img src="1000089828.jpg" class="content-image"></div>
        <div class="step-container" id="step-15"><h2 class="step-title">ุชูููู ุฐุงุชู (3)</h2><div class="quiz-box"><div class="question">1. ูุคุฏู ุงุฎุชูุงุฑ ุงูุฃูุฑ Delete page ุฅูู ุฅุฎูุงุก ุงูุดุฑูุญุฉ ูุคูุชุงู ุฏูู ุญุฐููุง.</div><div class="options-group"><input type="radio" name="sa3_q1" id="sa3_q1_t" value="true"><label class="option-label" for="sa3_q1_t">ุตูุงุจ</label><input type="radio" name="sa3_q1" id="sa3_q1_f" value="false"><label class="option-label" for="sa3_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูุชูุญ ุงูุจุฑูุงูุฌ ุญูุธ ุงูุนุฑุถ ุงูุชูุฏููู ุจุตูุบุฉ PowerPoint.</div><div class="options-group"><input type="radio" name="sa3_q2" id="sa3_q2_t" value="true"><label class="option-label" for="sa3_q2_t">ุตูุงุจ</label><input type="radio" name="sa3_q2" id="sa3_q2_f" value="false"><label class="option-label" for="sa3_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa3', 'false', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa3" class="quiz-result"></div></div></div>
        <div class="step-container" id="step-16"><h2 class="step-title">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ: ุงูุชูุงู</h2><img src="1000089833.jpg" class="content-image"></div>
        <div class="step-container" id="step-17"><h2 class="step-title">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ: ุญุฑูุงุช</h2><img src="1000089829.jpg" class="content-image"></div>
        <div class="step-container" id="step-18"><h2 class="step-title">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ: ุนุฑุถ</h2><img src="1000089830.jpg" class="content-image"></div>
        <div class="step-container" id="step-19"><h2 class="step-title">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ: ูุดุงุฑูุฉ</h2><img src="1000089831.jpg" class="content-image"></div>
        <div class="step-container" id="step-20"><h2 class="step-title">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ: ุญูุธ</h2><img src="1000089832.jpg" class="content-image"></div>
        <div class="step-container" id="step-21"><h2 class="step-title">ุชูููู ุฐุงุชู (4)</h2><div class="quiz-box"><div class="question">1. ูููู ุงูุชุญูู ูู ูุฏุฉ ุญุฑูุฉ ุงูุงูุชูุงู ูู ุฎูุงู ูุคุดุฑ Duration.</div><div class="options-group"><input type="radio" name="sa4_q1" id="sa4_q1_t" value="true"><label class="option-label" for="sa4_q1_t">ุตูุงุจ</label><input type="radio" name="sa4_q1" id="sa4_q1_f" value="false"><label class="option-label" for="sa4_q1_f">ุฎุทุฃ</label></div><div class="question">2. ููุณุชุฎุฏู ุฎูุงุฑ PPTX ูุชุตุฏูุฑ ุงูุนุฑุถ ูููู ููุฏูู.</div><div class="options-group"><input type="radio" name="sa4_q2" id="sa4_q2_t" value="true"><label class="option-label" for="sa4_q2_t">ุตูุงุจ</label><input type="radio" name="sa4_q2" id="sa4_q2_f" value="false"><label class="option-label" for="sa4_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa4', 'true', 'false')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa4" class="quiz-result"></div></div></div>

        <div class="step-container" id="step-22">
            <h2 class="step-title">๐ ุงููุดุงุท ุงูุชุฏุฑูุจู</h2>
            <div class="split-screen">
                <div class="split-right">
                    <p class="content-text" style="font-size:18px; line-height:2;">
                        <strong>ุนุฒูุฒู ุงููุชุนูู..</strong> ุชูุงุนู ูุน ุงููุธุงู ุงูุฐูู ูู ุฎูุงู ุงุฎุชูุงุฑ ุงููููุงุช ุงูููุชุงุญูุฉ ุงููุฑุชุจุทุฉ ุจุฅุญุชูุงุฌุงุชู ุงููุนููุฉ ูุชุตููู ุนุฑุถ ุชุนูููู ุจุงุณุชุฎุฏุงู Canvaุ ุซู ูู ุถูุก ุชูู ุงูุงุณุชุฌุงุจุงุช ุงููุนุฑูุถุฉ ูู ุจุชูููุฐ ุงููููุฉ ุงูุขุชูุฉ:
                    </p>
                    <div style="background:#f0f4f8; padding:20px; border-right:5px solid var(--hover-light-blue); border-radius:8px; margin-top:20px;">
                        <h4 style="color:var(--primary-navy); margin-bottom:10px;">๐ฏ ุงููุทููุจ:</h4>
                        <p style="margin:0; font-weight:700; color:#333;">ุฃูุดุฆ ุนุฑุถูุง ูุฑุชุจุทูุง ุจุชุฎุตุตู ูุชุถูู ุฎูุณ ุดุฑุงุฆุญ ููุธูุฉ ูุนูุงุตุฑ ูุฑุฆูุฉ ููุตูุตูุง ููุณูุฉ ูุงูุชูุงูุงุช ููุงุณุจุฉ ูุชูู ุงูุดุฑุงุฆุญุ ุซู ุงุญูุธู ูุดุงุฑู ุฑุงุจุทู ูุน ูุนููู.</p>
                    </div>
                </div>
                <div class="split-left">
                    <div class="chat-container">
                        <div class="chat-header"><i class="fa-solid fa-robot" style="font-size:20px;"></i> ุงููุณุงุนุฏ ุงูุฐูู Canva</div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="msg-bubble bot-msg">ุฃููุงู ุจู ูุง ุจุทู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ุงูุฎุงุต ุจููุฏููู Canva. ุฅูู ุงููู ุญุงุจุจ ุชุณุฃู ุนูู ุงูููุงุฑุฏู ุนุดุงู ููุฌุฒ ุงููููุฉ ุฏู ูุน ุจุนุถุ</div>
                        </div>
                        <div class="typing-indicator" id="typingIndicator">
                            <div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>
                        </div>
                        <div class="chat-suggestions" id="chatSuggestions"></div>
                        
                        <div class="chat-input-area">
                            <input type="text" id="chatInput" placeholder="ุงูุชุจ ุณุคุงูู ููุง..." onkeypress="handleChatKey(event)">
                            <button onclick="sendChatMessage()"><i class="fa-solid fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="step-container" id="step-23">
            <h2 class="step-title">ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ ุงูุจุนุฏู</h2>
            <img src="1000089586.jpg" alt="ุงุณุชุนุฏุงุฏ" class="content-image" style="max-height: 200px; object-fit: cover;">
            <div class="quiz-box" style="text-align: right; background: white;">
                <h3 style="color: var(--primary-navy); margin-bottom: 15px;">ุงูุฑุฃ ุงูุชุนูููุงุช ุฌูุฏุงู ูุจู ุงูุจุฏุก:</h3>
                <ul class="content-list" style="color:#555; font-weight:600;">
                    <li>ูุฐุง ุงูุงุฎุชุจุงุฑ ูููุณ ูุฏู ุฅุชูุงูู ูููุงุฑุงุช ุชุตููู ุงููุญุชูู.</li>
                    <li>ูุชููู ุงูุงุฎุชุจุงุฑ ูู 10 ุฃุณุฆูุฉ (ุตูุงุจ ูุฎุทุฃ ูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ).</li>
                    <li><strong style="color:#e74c3c;">ุดุฑุท ุงูุฅุชูุงู:</strong> ูุฌุจ ุงูุญุตูู ุนูู (90% ูุฃูุซุฑ) ูููุฑูุฑ ูููููุฉ ุงูุจุนุฏูุฉ.</li>
                    <li>ูู ุญุงู ุงูุญุตูู ุนูู ุฃูู ูู 90% ุณูุชู ุฅุนุงุฏุชู ูุฏุฑุงุณุฉ ุงูููุฏููู ูู ุงูุจุฏุงูุฉ.</li>
                </ul>
            </div>
        </div>

        <div class="step-container" id="step-24">
            <h2 class="step-title">ุงูุงุฎุชุจุงุฑ ุงูุชุญุตููู ุงูุจุนุฏู</h2>
            <div id="postTestContainer" class="quiz-box"></div>
            <button class="quiz-submit-btn" onclick="evaluatePostTest()" id="postTestSubmitBtn">ุฅุฑุณุงู ุงูุฅุฌุงุจุงุช ุงูููุงุฆูุฉ</button>
            <div id="postTestResult" class="quiz-result"></div>
        </div>

        <div class="step-container" id="step-25">
            <h2 class="step-title">ุงููููุฉ ุงูุฃุฏุงุฆูุฉ ุงูุจุนุฏูุฉ</h2>
            <div class="task-instructions">
                <h3>โ ุชุนูููุงุช ุฃุฏุงุก ุงููููุฉ ุงูุจุนุฏูุฉ:</h3>
                <p>ุนุฒูุฒู ุงููุชุนูู...ุจุนุฏ ุงูุงูุชูุงุก ูู ุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ููุทูุจ ููู ุชูููุฐ ุงููููุฉ ุงูุขุชูุฉ ูู ุถูุก ูุง ุงูุชุณุจุชู ูู ูุนุงุฑู ูููุงุฑุงุชุ ูุฐูู ุจูุฏู ููุงุณ ูุณุชูู ุชุทูุฑ ุฃุฏุงุฆู ุจุนุฏ ุงูุฏุฑุงุณุฉุ ูุฑุฌู ูุฑุงุนุงุฉ ุงูุชุนูููุงุช ุงูุขุชูุฉ:</p>
                <ul class="content-list">
                    <li>ุชูููุฐ ุงููููุฉ ุจุตูุฑุฉ ูุฑุฏูุฉ.</li>
                    <li>ุชูุธูู ุงูููุงุฑุงุช ุงูููุชุณุจุฉ ุจุตูุฑุฉ ูุชูุงููุฉ ุฃุซูุงุก ุงูุชูููุฐ.</li>
                    <li>ุงูุงูุชุฒุงู ุจูุชุทูุจุงุช ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ ูู ูุต ุงููููุฉ.</li>
                    <li>ุงุณุชููุงุก ุฌููุน ุนูุงุตุฑ ุงูุฃุฏุงุก ูุจู ุงูุชุณููู.</li>
                    <li>ุฑูุน ูุงุชุฌ ุงูุฃุฏุงุก ุงูููุงุฆู ูู ุงูููุงู ุงููุฎุตุต ุฏุงุฎู ุงูุจูุฆุฉ ุงูุชุนููููุฉ.</li>
                </ul>
            </div>
            <img src="1000090313.jpg" alt="ุงููููุฉ ุงูุจุนุฏูุฉ" class="content-image">
            <a href="https://wa.me/qr/D2OMSRXECH7UE1" target="_blank" class="action-btn whatsapp-btn"><i class="fa-brands fa-whatsapp"></i> ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</a>
        </div>

    </div>

    <div class="bottom-nav">
        <button class="nav-btn prev-btn" id="prevBtn" onclick="navigateStep(-1)"><i class="fa-solid fa-arrow-right"></i> ุงูุณุงุจู</button>
        <button class="nav-btn next-btn" id="nextBtn" onclick="navigateStep(1)">ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i></button>
    </div>

    <script>
        let currentUser = localStorage.getItem("currentUser") || "ููุณู";
        const totalSteps = 25; 
        let highestStep = parseInt(localStorage.getItem(currentUser + "_mod1_highestStep")) || 1;
        let currentStep = 1;

        const quizSteps = [7, 10, 15, 21];

        const stepTitles = [
            "ุงููุจุฑุฑุงุช", "ุงูุฃูุฏุงู", "ุงูุงุฎุชุจุงุฑ ุงููุจูู", "ุงููููุฉ ุงููุจููุฉ", "ุงูููุฏูุฉ", "ุงููุฒุงูุง", "ุชูููู ุฐุงุชู 1",
            "ุงูุชุณุฌูู", "ุงูุฅุนุฏุงุฏุงุช", "ุชูููู ุฐุงุชู 2", "ุฅูุดุงุก ุงูุชุตููู", "ุชููุฆุฉ ุงูุชุตููู", "ุงูุนูุงุตุฑ", "ุงููุตูุต",
            "ุชูููู ุฐุงุชู 3", "ุงูุงูุชูุงูุงุช", "ุงูุญุฑูุงุช", "ุทุฑููุฉ ุงูุนุฑุถ", "ุงููุดุงุฑูุฉ", "ุงูุญูุธ", "ุชูููู ุฐุงุชู 4",
            "ุงููุดุงุท ุงูุชุฏุฑูุจู", "ุชุนูููุงุช ุงูุจุนุฏู", "ุงูุงุฎุชุจุงุฑ ุงูุจุนุฏู", "ุงููููุฉ ุงูุจุนุฏูุฉ"
        ];

        const urlParams = new URLSearchParams(window.location.search);
        let stepParam = parseInt(urlParams.get('step'));
        if (stepParam && stepParam <= highestStep) { currentStep = stepParam; } 
        else if (stepParam && stepParam > highestStep) { currentStep = highestStep; }

        // ================= ุจุฑูุฌุฉ ุงูุดุงุช ุจูุช ุงูุฐูู =================
        const botKnowledge = [
            { keywords: ["ูุง ูู", "ูุงูู", "ูุงููุง", "canva", "ุจุฑูุงูุฌ ุงูู", "ุชุนุฑูู", "ูุนูู ุงูู", "ุจูุนูู ุงูู"], reply: "Canva ูู ุจุฑูุงูุฌ ุชุตููู ูุงุฆู ุนูู ุงูููุจ ูุชูุญ ุฅูุดุงุก ุนุฑูุถ ุชูุฏูููุฉ ููุญุชูู ุจุตุฑู ูู ุฎูุงู ูุงุฌูุฉ ุงุณุชุฎุฏุงู ุจุณูุทุฉ. ูุนูุฏ ุงูุฏุฎูู ุฅูู ุงูููุตุฉ ุชุธูุฑ ุฃุฏูุงุช ุฑุฆูุณูุฉ ูู ุงูุดุฑูุท ุงูุฌุงูุจู ูุซู Create ู Text ู Elementsุ ุจูููุง ุชุชู ุนูููุฉ ุงูุชุตููู ุฏุงุฎู ูุณุงุญุฉ ุงูุดุฑูุญุฉ ุจุงุณุชุฎุฏุงู ุงูุณุญุจ ูุงูุฅููุงุช." },
            { keywords: ["ุชุณุฌูู", "ุฏุฎูู", "ุญุณุงุจ", "ุงูููู", "ุฌูููู", "ุงูููุช", "login", "sign in", "gmail"], reply: "ููุจุฏุก ูุชู ูุชุญ ุงููููุน www.canva.comุ ุซู ุงุฎุชูุงุฑ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุญุณุงุจ Gmailุ ูุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุซู ุงูุถุบุท ุนูู Nextุ ููุชุงุจุฉ ูููุฉ ุงููุฑูุฑ ูุงูุถุบุท ูุฑุฉ ุฃุฎุฑู ุนูู Nextุ ุซู ุงุฎุชูุงุฑ Connect ูุงุณุชููุงู ุนูููุฉ ุงูุฏุฎูู." },
            { keywords: ["ุฅุนุฏุงุฏุงุช", "ุงูุญุณุงุจ", "ูุบุฉ", "ุนุฑุจู", "ุงูุฌููุฒู", "ุงุนุฑุจ", "ุตูุฑุฉ", "ุงุณู", "ุงุบูุฑ", "settings"], reply: "ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู ูููู ุชุฎุตูุต ุงูุญุณุงุจ ุจุงูููุฑ ุนูู ุตูุฑุชู ุซู ุงุฎุชูุงุฑ Settings. ูู ููุงู ููููู ุงูุถุบุท ุนูู Upload photo ูุฑูุน ุตูุฑุฉ ุดุฎุตูุฉุ ุฃู ุงุฎุชูุงุฑ Edit ูุชุนุฏูู ุงูุงุณูุ ููุง ููููู ุชุบููุฑ ูุบุฉ ุงููุงุฌูุฉ ูู ุฎูุงู ุฎูุงุฑ Language." },
            { keywords: ["ุฅูุดุงุก", "ุฌุฏูุฏ", "ุนุฑุถ", "ุจุฑุฒูุชูุดู", "ุชุตููู", "create", "ุงุจุฏุฃ", "ุงุนูู ุนุฑุถ"], reply: "ุงููุฑ ุนูู ุฒุฑ Create ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูุงุฎุชุฑ Presentation ููุชุญ ููู ุนุฑุถ ุฌุฏูุฏ. ุจุนุฏ ูุชุญู ุชูุฌู ุฅูู ุฎุงูุฉ Untitled design ูู ุงูุฃุนูู ูุชุนุฏูู ุงูุงุณู ุจูุง ูุนุจุฑ ุนู ููุถูุน ุนุฑุถู ุงูุชุนูููู." },
            { keywords: ["ุดุฑูุญุฉ", "ุดุฑุงุฆุญ", "ุงุฑุชุจ", "ุชุฑุชูุจ", "ุชูุฑุงุฑ", "ุงูุณุญ", "ุญุฐู", "page", "ุณูุงูุฏ"], reply: "ูู ุงูุดุฑูุท ุงูุณููู ุงููุฑ ุจุฒุฑ ุงููุฃุฑุฉ ุงูุฃููู ุนูู ุงูุดุฑูุญุฉ ูุงุณุชุฎุฏุงู ุฎูุงุฑุงุช Add Page (ูุฅุถุงูุฉ ุดุฑูุญุฉ) ุฃู Duplicate page (ููุชูุฑุงุฑ) ุฃู Delete page (ููุญุฐู) ุฃู Hide page (ููุฅุฎูุงุก). ุงุญุฑุต ุนูู ุชุฑุชูุจ ุงูุดุฑุงุฆุญ ูุฃูู ูุคุซุฑ ูุจุงุดุฑุฉ ูู ูุถูุญ ุฑุณุงูุชู." },
            { keywords: ["ุตูุฑ", "ุตูุฑุฉ", "ุฑุณููุงุช", "ุนูุงุตุฑ", "ุฃุดูุงู", "ุฌุฑุงููู", "elements", "photo", "ุฑุณูุฉ"], reply: "ูู ุงูุดุฑูุท ุงูุฌุงูุจู ุงุฎุชุฑ Elements ุซู ุงูุชุจ ูููุฉ ููุชุงุญูุฉ ุชุนุจูุฑ ุนู ููุถูุนู. ุงุฎุชุฑ ุงููุฆุฉ ุงูููุงุณุจุฉ (Graphics, Photos, Videos). ุงุณุชุฎุฏู ุฃุฏูุงุช ุงูุณุญุจ ูุงูุชูุจูุฑ ูุชุนุฏูู ุญุฌููุง ูููุงููุง ุฏุงุฎู ุงูุดุฑูุญุฉ." },
            { keywords: ["ูุต", "ูุตูุต", "ููุงู", "ุงูุชุจ", "ุฎุท", "ุฎุทูุท", "ุงููุงู ุงูุฎุท", "text", "ุนููุงู"], reply: "ุงููุฑ ุนูู Text ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุซู ุงุฎุชุฑ Add a text box ูุงูุชุจ ูุญุชูุงู. ุงุณุชุฎุฏู ุดุฑูุท ุงูุชูุณูู ุงูุนููู ูุชุนุฏูู ููุน ุงูุฎุทุ ุญุฌููุ ููููุ ููุญุงุฐุงุชู ูุน ุงูุญูุงุธ ุนูู ุชูุญูุฏ ุงูููุท ุนุจุฑ ุงูุดุฑุงุฆุญ." },
            { keywords: ["ุญุฑูุฉ", "ุญุฑูุงุช", "ุงูุชูุงู", "ุงูุชูุงูุงุช", "ุชุฃุซูุฑุงุช", "ุงููููุดู", "animate", "transition", "ุจูุชุญุฑู"], reply: "ูุฅุถุงูุฉ ุงูุชูุงู: ุงููุฑ ูููู ูููู ุนูู ุงูุดุฑูุญุฉ ูุงุฎุชุฑ Add Transition ูุงุถุจุท ุงููุฏุฉ (Duration). ููุฅุจุฑุงุฒ ุนูุตุฑ ูุญุฏุฏ: ุญุฏุฏู ูุงุฎุชุฑ Animate ูู ุงูุดุฑูุท ุงูุนููู ูุญุฏุฏ ููุท ุงูุญุฑูุฉ ูุณุฑุนุชูุง." },
            { keywords: ["ุญูุธ", "ุงุญูุธ", "ุชูุฒูู", "ุงูุฒู", "ูุดุงุฑูุฉ", "ุงุดุงุฑู", "ุฑุงุจุท", "ูููู", "ุดูุฑ", "share", "download", "pdf", "pptx"], reply: "ุงููุฑ ุนูู Share ููุญุตูู ุนูู ุฑุงุจุท ุงููุดุงุฑูุฉ. ูุฅุฐุง ุงุญุชุฌุช ูููู ูุณุชูู ุงุฎุชุฑ Download ูุญุฏุฏ ุงูุตูุบุฉ (ูุซู PDF ุฃู PPTX). ุซู ุงูุณุฎ ุงูุฑุงุจุท ุฃู ุฃุฑุณู ุงูููู ููุนููู." }
        ];

        const quickReplies = [
            "ูุง ูู Canvaุ", "ุชุณุฌูู ุงูุฏุฎูู", "ุถุจุท ุงูุฅุนุฏุงุฏุงุช", "ุฅูุดุงุก ุนุฑุถ ุฌุฏูุฏ", "ุชุฑุชูุจ ุงูุดุฑุงุฆุญ", 
            "ุฅุถุงูุฉ ุตูุฑ ูุฑุณููุงุช", "ุฅุฏุฑุงุฌ ุงููุตูุต", "ุงูุงูุชูุงูุงุช ูุงูุญุฑูุงุช", "ุญูุธ ููุดุงุฑูุฉ ุงูุนุฑุถ"
        ];

        function initChatbot() {
            let suggContainer = document.getElementById("chatSuggestions");
            suggContainer.innerHTML = "";
            quickReplies.forEach(txt => {
                let btn = document.createElement("button");
                btn.className = "sugg-btn";
                btn.innerText = txt;
                btn.onclick = () => { sendChatMessage(txt); btn.style.display = 'none'; };
                suggContainer.appendChild(btn);
            });
        }

        function handleChatKey(e) { if(e.key === 'Enter') sendChatMessage(); }

        function sendChatMessage(textOverride = null) {
            let inputField = document.getElementById("chatInput");
            let userText = textOverride || inputField.value.trim();
            if(!userText) return;
            
            appendMessage("user-msg", userText);
            inputField.value = "";
            
            let chatBox = document.getElementById("chatMessages");
            let indicator = document.getElementById("typingIndicator");
            chatBox.appendChild(indicator);
            indicator.style.display = "flex";
            chatBox.scrollTop = chatBox.scrollHeight;

            setTimeout(() => {
                indicator.style.display = "none";
                let botReply = getSmartReply(userText);
                appendMessage("bot-msg", botReply);
            }, 1200);
        }

        function appendMessage(className, text) {
            let chatBox = document.getElementById("chatMessages");
            let msgDiv = document.createElement("div");
            msgDiv.className = `msg-bubble ${className}`;
            msgDiv.innerText = text;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getSmartReply(text) {
            let lowerText = text.toLowerCase();
            for (let item of botKnowledge) {
                if (item.keywords.some(kw => lowerText.includes(kw.toLowerCase()))) return item.reply;
            }
            return "ุณุคุงู ุฌููู ุฌุฏุงู! ุจุณ ุนุดุงู ุฃูุฏุฑ ุฃุฏููู ุฅุฌุงุจุฉ ุฏูููุฉ ูู ูุญุชูู ุงูููุฏููู ุจุชุงุนูุงุ ูููู ุชุฎุชุงุฑ ูุงุญุฏุฉ ูู ุงูููุงุถูุน ุจุงูุฃุฒุฑุงุฑ ุงูููุชุฑุญุฉ ุฃู ุชูุถุญ ุณุคุงูู ุฃูุชุฑุ";
        }

        // ================= ุฏูุงู ุงูุชุญูู ูู ุงููุงุฌูุฉ ูุงูุงุฎุชุจุงุฑุงุช =================
        const preTestQuestions = [
            { q: "1. ููุนุฏ ุจุฑูุงูุฌ Canva ูู ุจุฑุงูุฌ ุงูุชุตููู ุงููุงุฆูุฉ ุนูู ุงูููุจ ูุชุทุจููุงุช ุงูุฃุฌูุฒุฉ ุงูุฐููุฉ.", type: "tf", ans: "true" },
            { q: "2. ูุฅุถุงูุฉ ุญุฑูุฉ ุฏุงุฎู ุงูุดุฑูุญุฉ ูุชู ุชุญุฏูุฏ ุงูุนูุตุฑ ูุงูููุฑ ุนูู Autoplay ูู ุดุฑูุท ุงูุฃุฏูุงุช ุงูุนููู.", type: "tf", ans: "false" },
            { q: "3. ุชูุชุตุฑ ูุงุนููุฉ ุงููุญุชูู ุงูุชุนูููู ุนูู ุฏูุฉ ุงููุนูููุงุช ุฏูู ุงูุงูุชูุงู ุจุทุฑููุฉ ุชุตููููุง.", type: "tf", ans: "false" },
            { q: "4. ูุนุชูุฏ ุจุฑูุงูุฌ Canva ุนูู ูุงุฌูุฉ ุงุณุชุฎุฏุงู ุชููู ุนูู ูุจุฏุฃ ุงูุณุญุจ ูุงูุฅููุงุช.", type: "tf", ans: "true" },
            { q: "5. ุชูุทุจู ุญุฑูุงุช ุงูุงูุชูุงู ูู ูุงููุง ุนูู ุงูุนูุงุตุฑ ุฏุงุฎู ุงูุดุฑูุญุฉ ูููุณ ุนูู ุงูุดุฑูุญุฉ ููุณูุง.", type: "tf", ans: "false" },
            { q: "6. ูุชูุญ ุจุฑูุงูุฌ Canva ุญูุธ ุงูุนุฑุถ ุงูุชูุฏููู ุจุตูุบุฉ PowerPoint ูุงุจูุฉ ููุชุญุฑูุฑ.", type: "tf", ans: "true" },
            { q: "7. ุชุณุชุฎุฏู ุฎุงุตูุฉ Present full screen ูุชุดุบูู ุงูุนุฑุถ ุงูุชูุฏููู ุชููุงุฆููุง ุฏูู ุชุฏุฎู ูุฏูู.", type: "tf", ans: "false" },
            { q: "8. ุชุชูุญ ูุณุฎุฉ Canva for Education ูุฒุงูุง ุชุนููููุฉ ูุฌุงููุฉ.", type: "tf", ans: "true" },
            { q: "9. ูุชู ุชุญุฏูุฏ ุงุชุฌุงู ุญุฑูุฉ ุงูุนูุตุฑ ูู ุฎูุงู ุฃูุงูุฑ Direction ูู ูุงุฆูุฉ Animate.", type: "tf", ans: "true" },
            { q: "10. ูุง ูููู ุชุบููุฑ ุงูุงุณู ุงูุงูุชุฑุงุถู ููุนุฑุถ ุงูุชูุฏููู ุจุนุฏ ุฅูุดุงุฆู.", type: "tf", ans: "false" },
            { q: "11. ูุนุชูุฏ ุจุฑูุงูุฌ Canva ูู ุชุตููู ุงูุนุฑูุถ ุงูุชูุฏูููุฉ ุนูู:", type: "mcq", opts: ["ุงูุฃูุงูุฑ ุงููุตูุฉ.", "ุงูููุฐุฌุฉ ุงูุซูุงุซูุฉ.", "ุงูุณุญุจ ูุงูุฅููุงุช.", "ูุบุงุช ุงูุจุฑูุฌุฉ."], ans: "ุงูุณุญุจ ูุงูุฅููุงุช." },
            { q: "12. ูุณุชุฎุฏู ุฒุฑ Create ูู ูุงุฌูุฉ Canva ูู ุฃุฌู:", type: "mcq", opts: ["ุญูุธ ุงูุนุฑุถ ุงูุชูุฏููู.", "ุฅูุดุงุก ุชุตููู ุฌุฏูุฏ.", "ูุดุงุฑูุฉ ุงูุนุฑุถ ูุน ุงูุขุฎุฑูู.", "ุญุฐู ุงูุชุตููู ุงูุญุงูู."], ans: "ุฅูุดุงุก ุชุตููู ุฌุฏูุฏ." },
            { q: "13. ูุชู ุฅุฏุฑุงุฌ ูุฑุจุน ูุต ุฌุฏูุฏ ุฏุงุฎู ุงูุดุฑูุญุฉ ูู ุฎูุงู ูุงุฆูุฉ:", type: "mcq", opts: ["File", "Elements", "Share", "Text"], ans: "Text" },
            { q: "14. ูู ุญุงู ุฃุฑุงุฏ ุงููุชุนูู ุฅุถุงูุฉ ุญุฑูุฉ ุงูุชูุงููุฉ ุจูู ุดุฑูุญุชูู ูุชุชุงููุชููุ ูุฅูู ูุณุชุฎุฏู:", type: "mcq", opts: ["Add Transition", "Elements", "Animate", "Background"], ans: "Add Transition" },
            { q: "15. ุชุณูุญ ุงูุตูุงุญูุฉ Can edit ูููุดุงุฑู ูู ุงูุนุฑุถ ุงูุชูุฏููู:", type: "mcq", opts: ["ุจุงููุดุงูุฏุฉ.", "ุจุงูุชุนููู.", "ุจุงูุชุนุฏูู.", "ุจุงูุชูุฒูู."], ans: "ุจุงูุชุนุฏูู." }
        ];

        const postTestQuestions = [
            { q: "ูุง ูุฏุนู ุจุฑูุงูุฌ Canva ุชุบููุฑ ูุบุฉ ูุงุฌูุฉ ุงูุงุณุชุฎุฏุงู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู.", type: "tf", ans: "false" },
            { q: "ูููู ุชุนุฏูู ุฃุจุนุงุฏ ุงูุดุฑูุญุฉ ุจูุง ูุชูุงุณุจ ูุน ูุชุทูุจุงุช ุงูุนุฑุถ ูู ุฎูุงู Resize Page.", type: "tf", ans: "true" },
            { q: "ูุง ูููู ุชุบููุฑ ุงูุงุณู ุงูุงูุชุฑุงุถู ููุนุฑุถ ุงูุชูุฏููู ุจุนุฏ ุฅูุดุงุฆู.", type: "tf", ans: "false" },
            { q: "ุชูุทุจู ุญุฑูุงุช ุงูุงูุชูุงู ูู ูุงููุง ุนูู ุงูุนูุงุตุฑ ุฏุงุฎู ุงูุดุฑูุญุฉ ูููุณ ุนูู ุงูุดุฑูุญุฉ ููุณูุง.", type: "tf", ans: "false" },
            { q: "ูุณุชุฎุฏู ุฎูุงุฑ PPTX ูุชุตุฏูุฑ ุงูุนุฑุถ ูููู PowerPoint ูุงุจู ููุชุญุฑูุฑ.", type: "tf", ans: "true" },
            { q: "ุนูุฏ ุฅุนุฏุงุฏ ุนุฑุถ ุชูุฏููู ุจุงุณุชุฎุฏุงู Canvaุ ูุชููุฒ ุงูุจุฑูุงูุฌ ุจุชูููุฑู:", type: "mcq", opts: ["ุงูููุฐุฌุฉ ุงูุซูุงุซูุฉ.", "ุงูุณุญุจ ูุงูุฅููุงุช.", "ูุบุงุช ุงูุจุฑูุฌุฉ.", "ุฃูุธูุฉ ุงูุชุดุบูู."], ans: "ุงูุณุญุจ ูุงูุฅููุงุช." },
            { q: "ุชุนุฏุฏ ุตูุบ ุงูุชุตุฏูุฑ ูู ุฎูุงู Canva ูููุฏ ุงููุณุชุฎุฏู ูู:", type: "mcq", opts: ["ุชุซุจูุช ุญุฌู ุงูููู.", "ุชูููู ุญุฌู ุงูุดุฑุงุฆุญ.", "ุชููุน ุทุฑู ุงูุนุฑุถ.", "ุชุนุฏูู ุญุฌู ุงูุฎุท."], ans: "ุชููุน ุทุฑู ุงูุนุฑุถ." },
            { q: "ูุชุนุฏูู ุตูุฑุฉ ุงูุญุณุงุจ ุฏุงุฎู Canva ูุชู ุงูุฏุฎูู ุฅูู:", type: "mcq", opts: ["Animate.", "Download.", "Background.", "Settings."], ans: "Settings." },
            { q: "ูุณุชุฎุฏู ุฎูุงุฑ Edit ุฏุงุฎู ุฅุนุฏุงุฏุงุช Canva ูู ุฃุฌู:", type: "mcq", opts: ["ุชุบููุฑ ุฒูู ุงูุงูุชูุงู.", "ุชุบููุฑ ุดูู ุงููุงูุจ.", "ุชุบููุฑ ุงูุงุณู ุงููุณุฌู.", "ุชุบููุฑ ุตูุบุฉ ุงูุชุตุฏูุฑ."], ans: "ุชุบููุฑ ุงูุงุณู ุงููุณุฌู." },
            { q: "ูุณุชุฎุฏู ุงูุฃูุฑ Duplicate Page ุฏุงุฎู Canva ุนูุฏ ุงูุฑุบุจุฉ ูู:", type: "mcq", opts: ["ุฅูุดุงุก ูุณุฎุฉ ูู ุงูุดุฑูุญุฉ.", "ุชุบููุฑ ุฎูููุฉ ุงูุดุฑูุญุฉ.", "ุงุถุงูุฉ ุญุฑูุฉ ููุดุฑูุญุฉ.", "ุงุถุงูุฉ ุงูุชูุงู ููุดุฑูุญุฉ."], ans: "ุฅูุดุงุก ูุณุฎุฉ ูู ุงูุดุฑูุญุฉ." }
        ];

        function shuffleArray(array) { for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; } }

        function renderTest(containerId, questionsArray, prefix) {
            let container = document.getElementById(containerId);
            container.innerHTML = "";
            questionsArray.forEach((item, index) => {
                let qDiv = document.createElement("div");
                qDiv.className = "question";
                qDiv.innerText = (prefix === 'post' ? (index + 1) + ". " : "") + item.q;
                
                let optGroup = document.createElement("div");
                optGroup.className = "options-group " + (item.type === "mcq" ? "mcq" : "");
                let options = item.type === "tf" ? [{l:"ุตูุงุจ", v:"true"}, {l:"ุฎุทุฃ", v:"false"}] : item.opts.map(o => ({l:o, v:o}));
                
                if (prefix === 'post' && item.type === "mcq") shuffleArray(options);

                options.forEach(opt => {
                    let id = `${prefix}_q${index}_${Math.random().toString(36).substr(2, 5)}`;
                    optGroup.innerHTML += `<input type="radio" name="${prefix}_q${index}" id="${id}" value="${opt.v}"><label class="option-label" for="${id}">${opt.l}</label>`;
                });
                container.appendChild(qDiv); container.appendChild(optGroup);
            });
        }

        function updateUI() {
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${currentStep}`).classList.add('active');
            
            document.getElementById('progressText').innerText = `ุฎุทูุฉ ${currentStep} ูู ${totalSteps} : ${stepTitles[currentStep-1]}`;
            document.getElementById('progressFill').style.width = `${(currentStep / totalSteps) * 100}%`;
            
            let prevBtn = document.getElementById('prevBtn');
            prevBtn.style.visibility = currentStep === 1 ? 'hidden' : 'visible';
            
            let nextBtn = document.getElementById('nextBtn');
            nextBtn.className = 'nav-btn next-btn'; 

            if (quizSteps.includes(currentStep)) {
                let isSolved = localStorage.getItem(currentUser + "_mod1_quiz_" + currentStep) === "true";
                if (!isSolved) { nextBtn.classList.add('disabled'); nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุฌุจ ุฃููุงู`; } 
                else { nextBtn.innerHTML = `ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i>`; }
            } else if (currentStep === 3) {
                let isDone = localStorage.getItem(currentUser + "_mod1_preTest") === "true";
                if(!isDone) { nextBtn.classList.add('disabled'); nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุชูู ุงูุงุฎุชุจุงุฑ`; } 
                else { nextBtn.innerHTML = `ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i>`; }
            } else if (currentStep === 24) {
                let isDone = localStorage.getItem(currentUser + "_mod1_postTest") === "true";
                let passed = localStorage.getItem(currentUser + "_mod1_postPassed") === "true";
                if(!isDone) { nextBtn.classList.add('disabled'); nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุชูู ุงูุงุฎุชุจุงุฑ`; } 
                else if (!passed) { nextBtn.className = 'nav-btn next-btn restart-btn'; nextBtn.innerHTML = `ุฅุนุงุฏุฉ ุฏุฑุงุณุฉ ุงูููุฏููู ๐`; } 
                else { nextBtn.innerHTML = `ุงูุชูู ูููููุฉ ุงูุจุนุฏูุฉ <i class="fa-solid fa-arrow-left"></i>`; }
            } else if (currentStep === totalSteps) {
                nextBtn.innerHTML = `ุฅููุงุก ูุงูุนูุฏุฉ <i class="fa-solid fa-check"></i>`;
                nextBtn.style.background = "#2ecc71";
            } else { nextBtn.innerHTML = `ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i>`; }

            if(currentStep === 3 && !document.getElementById("preTestContainer").innerHTML) { renderTest("preTestContainer", preTestQuestions, "pre"); }
            // ุงูุชุนุฏูู ุงูุณุญุฑู ููุง ุนุดุงู ุงูุฒุฑุงูุฑ ุชุธูุฑ 100%
            if(currentStep === 22 && document.getElementById("chatSuggestions").children.length === 0) { initChatbot(); } 
            
            if(currentStep === 24 && !document.getElementById("postTestContainer").innerHTML) {
                let shuffledPost = [...postTestQuestions]; shuffleArray(shuffledPost); 
                renderTest("postTestContainer", shuffledPost, "post");
            }
        }

        function navigateStep(direction) {
            let nextBtn = document.getElementById('nextBtn');
            if (direction === 1 && nextBtn.classList.contains('disabled')) return alert("ุงูุฑุฌุงุก ุฅุชูุงู ุงููููุฉ ูู ูุฐู ุงูุดุงุดุฉ ุฃููุงู ููุชูุฏู.");

            if (direction === 1 && nextBtn.classList.contains('restart-btn')) {
                currentStep = 1;
                localStorage.setItem(currentUser + "_mod1_postTest", "false"); 
                document.getElementById("postTestContainer").innerHTML = "";
                document.getElementById("postTestResult").style.display = "none";
                document.getElementById("postTestSubmitBtn").style.display = "block";
                updateUI(); window.scrollTo({ top: 0, behavior: 'smooth' }); return;
            }
            
            if (direction === 1 && currentStep === totalSteps) {
                localStorage.setItem(currentUser + "_unlockedModule", 2);
                window.location.href = "home.html"; return;
            }
            
            currentStep += direction;
            if (currentStep > highestStep) { highestStep = currentStep; localStorage.setItem(currentUser + "_mod1_highestStep", highestStep); }
            updateUI(); window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function submitSA(prefix, ans1, ans2) {
            let q1 = document.querySelector(`input[name="${prefix}_q1"]:checked`);
            let q2 = document.querySelector(`input[name="${prefix}_q2"]:checked`);
            if (!q1 || !q2) return alert("ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ.");
            let score = (q1.value === ans1 ? 1 : 0) + (q2.value === ans2 ? 1 : 0);
            let resBox = document.getElementById(`res_${prefix}`);
            resBox.style.display = "block";
            if (score === 2) { resBox.className = "quiz-result result-success"; resBox.innerHTML = "โ ููุชุงุฒ! ุฅุฌุงุจุงุชู ุตุญูุญุฉ."; }
            else if (score === 1) { resBox.className = "quiz-result result-partial"; resBox.innerHTML = "โ๏ธ ูุฏูู ุฅุฌุงุจุฉ ุตุญูุญุฉ ูุฅุฌุงุจุฉ ุฎุงุทุฆุฉุ ุฑูุฒ ุฃูุซุฑ."; }
            else { resBox.className = "quiz-result result-error"; resBox.innerHTML = "โ ุงูุฅุฌุงุจุงุช ุฎุงุทุฆุฉุ ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุฎุทูุฉ ุงูุณุงุจูุฉ."; }
            localStorage.setItem(currentUser + "_mod1_quiz_" + currentStep, "true"); updateUI();
        }

        function evaluatePreTest() {
            let score = 0; let missed = false;
            preTestQuestions.forEach((item, index) => {
                let ans = document.querySelector(`input[name="pre_q${index}"]:checked`);
                if(!ans) missed = true; else if (ans.value === item.ans) score++;
            });
            if(missed) return alert("ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุงูู 15 ุณุคุงูุงู.");
            
            let perc = (score / 15) * 100;
            let resBox = document.getElementById("preTestResult"); resBox.style.display = "block";
            
            if (perc >= 90) {
                resBox.className = "quiz-result result-success";
                resBox.innerHTML = `๐ ูุชูุฌุชู: ${Math.round(perc)}%<br>ุฃูู ูุจุฑูู! ูุณุช ุจุญุงุฌุฉ ูุฏุฑุงุณุฉ ูุฐุง ุงูููุฏููู. ููููู ุงูุงูุชูุงู ููููุฏููู ุงูุซุงูู ูุจุงุดุฑุฉ.`;
                document.getElementById('nextBtn').innerHTML = "ุงูุนูุฏุฉ ูููุงุฆูุฉ ููุชุญ ุงูููุฏููู ุงูุซุงูู";
                document.getElementById('nextBtn').onclick = function() { localStorage.setItem(currentUser + "_unlockedModule", 2); window.location.href = "home.html"; };
            } else {
                resBox.className = "quiz-result result-partial";
                resBox.innerHTML = `ูุชูุฌุชู: ${Math.round(perc)}%<br>ุชุญุชุงุฌ ูุฏุฑุงุณุฉ ูุฐุง ุงูููุฏููู. ุงุถุบุท 'ุงูุชุงูู' ููุจุฏุก.`;
                localStorage.setItem(currentUser + "_mod1_preTest", "true");
            }
            document.getElementById("preTestSubmitBtn").style.display = "none"; updateUI();
        }

        function evaluatePostTest() {
            let score = 0; let missed = false;
            let domQuestions = document.querySelectorAll('#postTestContainer .options-group');
            domQuestions.forEach((group, index) => {
                let ans = document.querySelector(`input[name="post_q${index}"]:checked`);
                if(!ans) missed = true; 
                else {
                    let qText = group.previousElementSibling.innerText.replace(/^\d+\.\s*/, '');
                    let originalItem = postTestQuestions.find(i => i.q === qText);
                    if (originalItem && ans.value === originalItem.ans) score++;
                }
            });
            
            if(missed) return alert("ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุฃุณุฆูุฉ ุงูุงุฎุชุจุงุฑ.");
            
            let perc = (score / 10) * 100;
            let resBox = document.getElementById("postTestResult"); resBox.style.display = "block";
            localStorage.setItem(currentUser + "_mod1_postTest", "true");
            
            if (perc >= 90) {
                localStorage.setItem(currentUser + "_mod1_postPassed", "true");
                resBox.className = "quiz-result result-success";
                resBox.innerHTML = `๐ ุนุธูู! ูุชูุฌุชู: ${Math.round(perc)}%<br>ููุฏ ุญููุช ุดุฑุท ุงูุฅุชูุงู. ููููู ุงูุขู ุงูุงูุชูุงู ูููููุฉ ุงูุจุนุฏูุฉ.`;
            } else {
                localStorage.setItem(currentUser + "_mod1_postPassed", "false");
                resBox.className = "quiz-result result-error";
                resBox.innerHTML = `โ๏ธ ูุชูุฌุชู: ${Math.round(perc)}%<br>ูู ุชุญูู ุดุฑุท ุงูุฅุชูุงู (90%). ูุฌุจ ุนููู ุฅุนุงุฏุฉ ุฏุฑุงุณุฉ ุงูููุฏููู ูู ุงูุจุฏุงูุฉ.`;
            }
            document.getElementById("postTestSubmitBtn").style.display = "none"; updateUI();
        }

        window.onload = updateUI;
    </script>
</body>
</html>
