<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูููุฏููู ุงูุซุงูู - Google Classroom</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --primary-navy: #1a2b4c; --hover-light-blue: #5b8ee5; --bg-color: #f4f7fa; --whatsapp-color: #25D366; --classroom-color: #0f9d58; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Cairo', sans-serif; background-color: var(--bg-color); color: #333; line-height: 1.8; padding-bottom: 90px;}

        /* ุงูุดุฑูุท ุงูุนููู */
        .top-bar { background-color: var(--primary-navy); color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .top-bar h1 { font-size: 20px; font-weight: 800; }
        .back-btn { background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 8px; text-decoration: none; font-weight: 700; transition: 0.3s; }
        .back-btn:hover { background: var(--hover-light-blue); }
        
        /* ุดุฑูุท ุงูุชูุฏู */
        .progress-container { background: white; padding: 15px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 30px;}
        .progress-text { font-weight: 800; color: var(--primary-navy); margin-bottom: 5px; font-size: 16px;}
        .progress-bar { width: 80%; max-width: 600px; height: 10px; background: #eef2f5; margin: 0 auto; border-radius: 10px; overflow: hidden;}
        .progress-fill { height: 100%; background: var(--classroom-color); width: 0%; transition: 0.4s;}

        /* ุงููุญุชูู ุงูุฃุณุงุณู */
        .container { max-width: 1050px; margin: 0 auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .step-container { display: none; animation: fadeIn 0.5s; }
        .step-container.active { display: block; }
        h2.step-title { color: var(--primary-navy); font-size: 26px; font-weight: 900; margin-bottom: 20px; border-bottom: 3px solid #eef2f5; padding-bottom: 10px; text-align: center; }
        
        .content-image { width: 100%; max-width: 800px; border-radius: 12px; margin: 20px auto; display: block; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .content-text { font-size: 17px; margin-bottom: 15px; color: #444; text-align: justify; line-height: 1.9; }
        
        /* ุงูุชูุงู ุงููุต ุญูู ุงูุตูุฑ */
        .wrap-layout::after { content: ""; display: table; clear: both; }
        .wrap-img-left { float: left; margin: 10px 30px 20px 0; max-width: 45%; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        
        /* ูุธุงู ุงูุดุจูุฉ ูููุฒุงูุง (ุนููุฏูู) */
        .grid-list { display: grid; grid-template-columns: 1fr 1fr; gap: 0 30px; text-align: justify; margin-bottom: 20px; }
        .content-list { margin-right: 20px; margin-bottom: 20px; }
        .content-list li { margin-bottom: 10px; font-size: 17px; font-weight: 600; color: #444; }

        /* ุงูุดุงุดุงุช ุงูููุณููุฉ ููุฃูุดุทุฉ */
        .split-layout { display: flex; gap: 30px; align-items: center; flex-wrap: wrap; margin-top: 20px; }
        .split-layout .text-side { flex: 1; min-width: 300px; }
        .split-layout .img-side { flex: 1; min-width: 300px; }

        /* ููุทูุฉ ุงูููุงู */
        .task-instructions { background: #fffcf5; border: 1px solid #fdeec0; padding: 25px; border-radius: 12px; margin-bottom: 25px; }
        .task-instructions h3 { color: #e74c3c; margin-bottom: 15px; font-size: 20px; }
        .action-btn { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 15px 30px; border-radius: 10px; font-size: 18px; font-weight: 800; text-decoration: none; color: white; margin: 10px auto; width: 100%; max-width: 500px; transition: 0.3s; text-align: center; cursor: pointer; border: none; }
        .whatsapp-btn { background-color: var(--whatsapp-color); max-width: max-content; padding: 12px 25px; margin: 0; }
        .platform-btn { background: linear-gradient(45deg, #0f9d58, #34a853); display: flex; margin: 20px auto;}
        
        /* ููุทูุฉ ุงูุชุณููู ุงููุญุณูุฉ ุจุงููุต ุงูุซุงุจุช */
        .submission-area { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; align-items: center; margin-top: 20px; background: #fdfefe; padding: 20px; border-radius: 12px; border: 1px solid #eef2f5; box-shadow: 0 4px 10px rgba(0,0,0,0.02); }
        .submission-text { font-size: 18px; font-weight: 800; color: var(--primary-navy); margin-left: 10px;}

        /* ุงูุดุงุช ุจูุช */
        .chat-container { border: 1px solid #eef2f5; border-radius: 12px; overflow: hidden; background: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: flex; flex-direction: column; height: 550px; }
        .chat-header { background: var(--primary-navy); color: white; padding: 15px; font-weight: 800; display: flex; align-items: center; gap: 10px; }
        
        .chat-fixed-top { background: #fdfefe; border-bottom: 1px solid #eee; display: flex; flex-direction: column; }
        .chat-welcome-box { background: #eef2f5; color: #1a2b4c; margin: 15px; padding: 12px 18px; border-radius: 12px; font-size: 15px; line-height: 1.6; font-weight: 700; text-align: center;}
        
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; background: #f9fbff; display: flex; flex-direction: column; gap: 15px; }
        .chat-suggestions { padding: 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 6px; margin-bottom: 5px; }
        .sugg-btn { background: white; border: 1px solid var(--classroom-color); color: var(--classroom-color); padding: 6px 10px; border-radius: 20px; font-size: 12px; font-weight: 700; cursor: pointer; transition: 0.3s; font-family: 'Cairo', sans-serif; }
        .sugg-btn:hover { background: var(--classroom-color); color: white; }
        
        .msg-bubble { max-width: 85%; padding: 12px 18px; border-radius: 12px; font-size: 14px; line-height: 1.6; position: relative; animation: fadeIn 0.3s ease; }
        .bot-msg { background: #eef2f5; color: #1a2b4c; align-self: flex-start; border-top-right-radius: 0; font-weight: 600; }
        .user-msg { background: var(--classroom-color); color: white; align-self: flex-end; border-top-left-radius: 0; font-weight: 700; }
        
        .chat-input-area { display: flex; padding: 15px; background: #fff; border-top: 1px solid #eee; }
        .chat-input-area input { flex: 1; border: 1px solid #ddd; padding: 12px 15px; border-radius: 8px; font-family: 'Cairo', sans-serif; outline: none; }
        .chat-input-area button { background: var(--classroom-color); color: white; border: none; width: 45px; height: 45px; border-radius: 8px; margin-right: 10px; cursor: pointer; }

        /* ุงูุงุฎุชุจุงุฑุงุช ูุงูุชููููุงุช */
        .quiz-box { background: #fdfefe; border: 1px solid #eef2f5; border-radius: 12px; padding: 25px; margin-bottom: 30px; }
        .question { font-size: 18px; font-weight: 700; color: var(--primary-navy); margin-bottom: 15px; padding-top: 15px; }
        .options-group { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 25px;}
        .options-group.mcq { flex-direction: column; gap: 10px; }
        
        .option-label { flex: 1; min-width: 120px; background: #f8fbff; border: 2px solid #cbd5e1; padding: 14px; border-radius: 8px; text-align: center; cursor: pointer; font-weight: 800; font-size: 16px; color: #1a2b4c; transition: 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .options-group.mcq .option-label { text-align: right; }
        input[type="radio"]:checked + .option-label { background: var(--classroom-color); color: white; border-color: var(--classroom-color); box-shadow: inset 0 2px 5px rgba(0,0,0,0.1); }
        input[type="radio"] { display: none; }
        
        .quiz-submit-btn { background: var(--primary-navy); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 18px; font-weight: 800; cursor: pointer; width: 100%; transition: 0.3s; margin-top: 20px; font-family: 'Cairo', sans-serif;}
        .quiz-submit-btn:hover { background: var(--hover-light-blue); }
        
        .quiz-result { display: none; padding: 20px; margin-top: 20px; border-radius: 8px; font-weight: 800; text-align: center; font-size: 18px; }
        .result-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .result-partial { background: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
        .result-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        /* ุงูุชููู ุงูุณููู */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 15px 30px; display: flex; justify-content: space-between; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; }
        .nav-btn { padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: 800; cursor: pointer; border: none; display: flex; align-items: center; gap: 8px; transition: 0.3s; font-family: 'Cairo', sans-serif; background: var(--classroom-color); color: white; }
        .next-btn.disabled { background: #ccc; color: #666; cursor: not-allowed; }
        .next-btn.restart-btn { background: #e74c3c; color: white; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media(max-width: 768px){
            .wrap-img-left { float: none; max-width: 100%; margin: 0 auto 20px; display: block; }
            .grid-list { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <h1><i class="fa-solid fa-chalkboard-user"></i> ุงูููุฏููู ุงูุซุงูู - Google Classroom</h1>
        <a href="home.html" class="back-btn"><i class="fa-solid fa-house"></i> ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</a>
    </div>

    <div class="progress-container">
        <div class="progress-text">ุดุฑูุท ุงูุชูุฏู ูู ุฏุฑุงุณุฉ ุงูููุฏููู</div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>

    <div class="container">

        <div class="step-container" id="step-1">
            <h2 class="step-title">ูุจุฑุฑุงุช ุฏุฑุงุณุฉ ุงูููุฏููู</h2>
            <div class="wrap-layout">
                <img src="1000091566.jpg" class="wrap-img-left" alt="ูุจุฑุฑุงุช ุฏุฑุงุณุฉ ุงูููุฏููู">
                <p class="content-text"><strong>ุนุฒูุฒู ุงูุทุงูุจ...</strong> ุฃุธูุฑ ุชูุดู ููุฑูุณ ููุฑููุง (ููููุฏ 19) ุฃุฒูุฉ ุญูููุฉ ุธูุฑุช ุชุฏุงุนูุงุชูุง ุนูู ุดุชู ููุงุญู ุงูุญูุงุฉุ ููููุง ุงูุชุนูููุ ูุชุฃุซุฑุช ุงููุคุณุณุงุช ุงูุชุนููููุฉ ุชุฃุซุฑูุง ูุจูุฑูุง ูู ุฌุฑุงุก ุชูู ุงูุฃุฒูุฉ ุงูุชู ูู ุชุดูุฏ ุงูุจุดุฑูุฉ ููุง ูุซูููุง ุทูุงู ุชุงุฑูุฎูุงุ ููู ุซู ุนุงูู ุงูููุงููู ูู ุงูุทูุจุฉ ูู ุดุชู ุงููุฑุงุญู ุงูุชุนููููุฉ ุจุณุจุจ ุงูุฅุบูุงู ุงูุฐู ูุงูุจ ุชูู ุงูุฃุฒูุฉุ ููุงู ูู ุฃุจุฑุฒ ุงูุณุจู ุงูุชูุฌู ูุญู ุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนูููู ุจุงุณุชุฎุฏุงู ูุงูุฉ ุงูุชุทุจููุงุช ูุงูููุตุงุช ุงูุชุนููููุฉ ูููุตูู ุฅูู ุงููุชุนูููู ุนู ุจุนุฏ ูุงูุญุฏ ูู ุงููุทุงุน ุงูุชุนููู.</p>
                <p class="content-text">ููู ุถูุก ูุฐู ุงููุณุชุฌุฏุงุช ูู ูุนุฏ ุงูุชุญุฏู ููุชุตุฑูุง ุนูู ุฅุชุงุญุฉ ุงููุญุชูู ุงูุชุนูููู ุนุจุฑ ููุตุงุช ูุจูุฆุงุช ุงูุชุนูู ูุญุณุจุ ุจู ุดูู ููููุฉ ุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุญุชูู ุงูุชุนูููู ุฏุงุฎู ุชูู ุงูููุตุงุช ุงูุฅููุชุฑูููุฉุ ููู ูุฐุง ุงูุฅุทุงุฑ ุชุนุฏ Google Classroom ุฅุญุฏู ุงูููุตุงุช ุงูุชุนููููุฉ ุงูุชู ูุชู ูู ุฎูุงููุง ุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนูููู ุงูุฑูููุ ุญูุซ ููุฏู ุงููุญุชูู ุจุทุฑููุฉ ุชูุถุญ ุชูุธููู ูุชุณูุณูู ูุชูุงูู ููููุงุชู ุฏุงุฎู ุงูููุตุงุช ุงูุชุนููููุฉ.</p>
            </div>
        </div>

        <div class="step-container" id="step-2">
            <h2 class="step-title">ุฃูุฏุงู ุฏุฑุงุณุฉ ุงูููุฏููู</h2>
            <p class="content-text" style="text-align: center; font-weight: bold; color: var(--primary-navy);">ุนุฒูุฒู ุงููุชุนูู... ููุฏู ูุฐุง ุงูููุฏููู ุฅูู ุฅูุณุงุจู ุงูููุงุฑุงุช ุงููุชูุงููุฉ ูุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนูููู ุงูุฑููู ุจูุงุนููุฉ ุจุงุณุชุฎุฏุงู ููุตุฉ Google Classroom.</p>
            <img src="1000091698.jpg" class="content-image" alt="ุฎุฑูุทุฉ ุฑุญูุฉ ุงูุชุนูู">
        </div>
        
        <div class="step-container" id="step-3">
            <h2 class="step-title">ุงููููุฉ ุงูุฃุฏุงุฆูุฉ ุงููุจููุฉ</h2>
            <div class="task-instructions">
                <h3>โ ุชุนูููุงุช ุฃุฏุงุก ุงููููุฉ ุงููุจููุฉ:</h3>
                <p class="content-text">ุนุฒูุฒู ุงููุชุนูู... ูุจู ุงูุจุฏุก ูู ุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ููุทูุจ ููู ุชูููุฐ ุงููููุฉ ุงููุทููุจุฉ ุงุนุชูุงุฏูุง ุนูู ุฎุจุฑุงุชู ุงูุณุงุจูุฉ ููุนุงุฑูู ุงูุญุงููุฉ ุฏูู ุงูุฑุฌูุน ุฅูู ูุญุชูู ุงูููุฏูููุ ูุฐูู ุจูุฏู ุงูุชุนุฑู ุนูู ูุณุชูู ุฃุฏุงุฆู ุงูุญุงูู ูุจู ุงูุฏุฑุงุณุฉุ ูุฑุฌู ูุฑุงุนุงุฉ ุงูุชุนูููุงุช ุงูุขุชูุฉ:</p>
                <ul class="content-list">
                    <li>ุชูููุฐ ุงููููุฉ ุจุตูุฑุฉ ูุฑุฏูุฉ.</li>
                    <li>ุงูุงุนุชูุงุฏ ุนูู ููุงุฑุงุชู ุงูุญุงููุฉ ุฏูู ุงูุงุณุชุนุงูุฉ ุจุดุฑุญ ุงูููุฏููู.</li>
                    <li>ุงูุงูุชุฒุงู ุจูุชุทูุจุงุช ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ ูู ูุต ุงููููุฉ.</li>
                    <li>ุงุณุชููุงุก ุฌููุน ุนูุงุตุฑ ุงูุฃุฏุงุก ูุจู ุงูุชุณููู.</li>
                    <li>ุฑูุน ูุงุชุฌ ุงูุฃุฏุงุก ูู ุงูููุงู ุงููุฎุตุต ุฏุงุฎู ุงูุจูุฆุฉ ุงูุชุนููููุฉ.</li>
                </ul>
            </div>
            <img src="1000091568.jpg" class="content-image">
            <a href="https://classroom.google.com/u/1/h" target="_blank" class="action-btn platform-btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> ุชุทุจูู ุนููู ุนูู Google Classroom โ</a>
            
            <div class="submission-area">
                <span class="submission-text">ุดุงุฑู ุฑุงุจุท ุงููููุฉ ููุนููู ููุง โฌ๏ธ</span>
                <a href="https://wa.me/qr/D2OMSRXECH7UE1" target="_blank" class="action-btn whatsapp-btn"><i class="fa-brands fa-whatsapp"></i> ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</a>
            </div>
        </div>

        <div class="step-container" id="step-4">
            <h2 class="step-title">ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ ุงููุจูู</h2>
            <div class="quiz-box">
                <h3 style="color: var(--primary-navy); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 10px;">๐ฏ ูุฏู ุงูุงุฎุชุจุงุฑ:</h3>
                <p class="content-text">ูุฐุง ุงูุงุฎุชุจุงุฑ ูุถุน ูููุงุณ ูุฏู ุชุญุตููู ูู ุงูุฌูุงูุจ ุงููุนุฑููุฉ ุงููุฑุชุจุทุฉ ููุงุฑุงุช ุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุญุชูู ุงูุชุนูููู ุงูุฑููู ุชุทุจูููุง ุนูู ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู Google Classroom.</p>
                
                <h3 style="color: var(--primary-navy); margin-bottom: 15px; margin-top: 25px; border-bottom: 2px solid #eee; padding-bottom: 10px;">๐ ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ:</h3>
                <p class="content-text">ูู ูุถูู ุนุฒูุฒู ุงูุทุงูุจ ุงูุฑุฃ ุงูุชุนูููุงุช ุงูุชุงููุฉ ุจุนูุงูุฉ ูุงูุงุณุชุฑุดุงุฏ ุจูุง ูุจู ุฃู ุชุจุฏุฃ ูู ุฅุฌุงุจุฉ ุงูุงุฎุชุจุงุฑ:</p>
                <ul class="content-list">
                    <li>ูุชููู ูุฐุง ุงูุงุฎุชุจุงุฑ ูู ุฌุฒุฆููุ ูุดุชูู ุงูุฌุฒุก ุงูุฃูู ุนูู ุนุจุงุฑุงุช ูู ููุน ุงูุตูุงุจ ูุงูุฎุทุฃุ ููุดุชูู ุงูุฌุฒุก ุงูุซุงูู ุนูู ุจููุฏ ูู ููุน ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ.</li>
                    <li>ุนูุฏ ุงูุฅุฌุงุจุฉ ุนู ุฃุณุฆูุฉ ุงูุตูุงุจ ูุงูุฎุทุฃ ุณูู ุชุฌุฏ ุฃุณูู ูู ุณุคุงู ุนูุงูุชุงูุ ุฅุญุฏุงููุง ุตูุงุจ ูุงูุฃุฎุฑู ุฎุทุฃุ ูุนููู ุฃู ุชุถุบุท ุนูู ุงูุนูุงูุฉ ุงูุตุญูุญุฉ ุจุงุณุชุฎุฏุงู ูุคุดุฑ ุงููุฃุฑุฉุ ูุงูููุฑ ุนูู ุงูุณุคุงู ุงูุชุงูู.</li>
                    <li>ุนูุฏ ุงูุฅุฌุงุจุฉ ุนู ุจููุฏ ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ ุนููู ุฃู ุชุถุบุท ุนูู ุงูุฅุฌุงุจุฉ ุงูุชู ุชุฑุงูุง ุตุญูุญุฉุ ูู ุจูู ุงูุจุฏุงุฆู ุงูุฃุฑุจุนุฉ ุงููุชุงุญุฉ ุจูุคุดุฑ ุงููุฃุฑุฉ.</li>
                    <li><strong style="color:#e74c3c;">ุฅุฐุง ุญุตูุช ูู ููุงูุฉ ุงูุงุฎุชุจุงุฑ ุนูู 90% ูุฃูุซุฑุ ููุณุช ูู ุญุงุฌุฉ ูุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ูุฅุฐุง ุญุตูุช ุนูู ุฃูู ูู 90%ุ ูุงุจุฏุฃ ูุจุงุดุฑุฉ ูู ุฏุฑุงุณุฉ ุงูููุฏููู ุงูุชุนูููู.</strong></li>
                </ul>
            </div>
            <button class="quiz-submit-btn" style="background: var(--classroom-color);" onclick="navigateStep(1)">ุงุถุบุท ูุจุฏุก ุงูุงุฎุชุจุงุฑ ๐</button>
        </div>

        <div class="step-container" id="step-5">
            <h2 class="step-title">ุงูุงุฎุชุจุงุฑ ุงูุชุญุตููู ุงููุจูู</h2>
            <div id="preTestContainer" class="quiz-box"></div>
            <button class="quiz-submit-btn" onclick="evaluatePreTest()" id="preTestSubmitBtn">ุฅููุงุก ุงูุงุฎุชุจุงุฑ</button>
            <div id="preTestResult" class="quiz-result"></div>
        </div>

        <div class="step-container" id="step-6">
            <h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2>
            <p class="content-text" style="font-weight: 700;">ุนุฒูุฒู ุงูุทุงูุจ... ูุดูู ูุญุชูู ุงูููุฏููู ุนูู ุงููุนุงุฑู ูุงูููุงุฑุงุช ุงูุฎุงุตุฉ ุจุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุญุชูู ุงูุชุนูููู ุงูุฑููู ุชุทุจูููุง ุนูู ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู Google Classroomุ ููููู ุนุฑุถ ุชูู ุงูุนูุงุตุฑ ูุงูุชุงูู:</p>
            <h3 style="color:var(--primary-navy); margin-top:20px; margin-bottom: 15px; font-size: 20px;">โ ุชุนุฑู ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู Google Classroom ุงูุชุนููููุฉ.</h3>
            
            <div class="wrap-layout">
                <img src="1000091699.jpg" class="wrap-img-left" alt="ุงูุชุนุฑูู ุจููุตุฉ Google Classroom">
                <p class="content-text">ุฃุตุจุญุช ุงููุคุณุณุงุช ุงูุชุฑุจููุฉ ูุงูุชุนููููุฉ ูุทุงูุจุฉ ุจููุงูุจุฉ ูุง ูุดูุฏู ุงูุนุตุฑ ูู ุชุทูุฑุงุช ุชูููููุฌูุฉ ูุชุณุงุฑุนุฉุ ุญูุซ ุจุงุช ูู ุงูุถุฑูุฑู ุนูู ุงููุคุณุณุงุช ุงูุชุนููููุฉ ุชุทููุฑ ุฃุฏูุงุชูุง ูุงุณุชุฑุงุชูุฌุงุช ูุฃุณุงููุจ ุงูุชุฏุฑูุณ ุงูุชู ุชูุชูุฌูุงุ ููุฅูุงุฏุฉ ูููุง ูู ุงูุฃุฑุชูุงุก ุจุงูุนูููุฉ ุงูุชุนููููุฉ.</p>
                <p class="content-text">ููู ููุง ุฃุตุจุญ ูุฒุงูุง ุนูููุง ุฃู ุชูุงูุจ ุงูุชุบูุฑุงุช ูุงูุชุทูุฑุงุช ุงูุชูููููุฌูุฉุ ูุงูุชู ูู ุจูููุง ุงูุฃุณุชุนุงูุฉ ุจููุตุงุช ูุจูุฆุงุช ุงูุชุนูู ุงูุฅููุชุฑูููุฉ ูู ุฃุฌู ุงููุตูู ุฅูู ุชุนููู ูุชุนูู ูุนุงูุ ูุชุนุฏ ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู (Google Classroom) ุงูุชุนููููุฉ ูู ุฃุดูุฑ ุงููุณุชุญุฏุซุงุช ุงูุชูููููุฌูุฉ ุงูุชู ุชู ุทุฑุญูุง ูู ูุจู ุดุฑูุฉ Google ูุชุชูุญ ูููุนูููู ุชูุธูู ุงููุญุชูู ูุฅุฏุงุฑุชู ูุฅูุดุงุก ุงููุตูู ุงูุฏุฑุงุณูุฉ ูุงูุชูุงุตู ุจุณูููุฉ ูุน ุงูุทูุงุจุ ููุง ูููู ูููุนูู ุชุญุฏูุฏ ุงููุงุฌุจุงุช ูุงูุชุนุงูู ูุน ุงูุฏุฑุฌุงุช ูุทุฑุญ ุงูุฃุณุฆูุฉ.</p>
                <p class="content-text">ูุชุนุฏ ุฌูุฌู ููุงุณ ุฑูู ููุตุฉ ุชุนููููุฉ ูุฌุงููุฉ ุชูุฏู ุฅูู ุชุจุณูุท ุฅูุดุงุก ุงููุตูู ุงูุฏุฑุงุณูุฉ ูุชุตููููุง ูุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนูููู ูุฅุนุฏุงุฏ ุงููุงุฌุจุงุช ูุงูุชูุงุนู ุงูููุฑู ูุน ุงูุทูุงุจ ุนุจุฑ ุจูุฆุฉ ุณุญุงุจูุฉ ูุชูุงููุฉ.</p>
            </div>
        </div>

        <div class="step-container" id="step-7">
            <h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2>
            <h3 style="color:var(--primary-navy); margin-bottom:15px; font-size: 20px;">โ ุฎุตุงุฆุต ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู Google Classroom.</h3>
            <p class="content-text">ุชุชูุชุน ููุตุฉ Google Classroom ุจูุฌููุนุฉ ูู ุงูุฎุตุงุฆุต ุงูุชู ุฃุณููุช ูู ุงูุชุดุงุฑ ุงุณุชุฎุฏุงููุง ุฏุงุฎู ุงููุคุณุณุงุช ุงูุชุนููููุฉ ุฃูููุง:</p>
            
            <ul class="content-list grid-list">
                <li>ุฅุชุงุญุฉ ุงูุฎุฏูุงุช ุงูุชุนููููุฉ ูุฌุงููุง ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงุดุชุฑุงูุงุช ูุฏููุนุฉุ ุจูุง ูุฏุนู ูุจุฏุฃ ุฅุชุงุญุฉ ุงูุชุนููู ูุชูุงูุค ุงููุฑุต.</li>
                <li>ุงูุงุนุชูุงุฏ ุนูู ุชูููุงุช ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉุ ููุง ูุชูุญ ุงููุตูู ุฅูู ุงููุตูู ุงูุฏุฑุงุณูุฉ ูุงููุญุชูู ุงูุชุนูููู ูู ุฃู ููุช ููู ุฃู ููุงู.</li>
                <li>ุงูุฌุงูุฒูุฉ ุงููุจุงุดุฑุฉ ููุงุณุชุฎุฏุงู ุฏูู ูุชุทูุจุงุช ุจุฑูุฌูุฉ ุฃู ุฅุนุฏุงุฏุงุช ุชูููุฉ ูุนูุฏุฉ.</li>
                <li>ุงูุชูุงูู ูุน ูุฎุชูู ุงูุฃุฌูุฒุฉ ุงูุฑูููุฉุ ุจูุง ูู ุฐูู ุงูุญูุงุณูุจ ุงูููุชุจูุฉ ูุงููุญูููุฉ ูุงูููุงุชู ุงูุฐููุฉ.</li>
                <li>ุฏุนู ุนุฏุฏ ูุจูุฑ ูู ูุบุงุช ุงูุนุงููุ ูุฎุงุตุฉ ุงููุบุฉ ุงูุนุฑุจูุฉุ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุชุญุฏูุซุงุช ุฃู ุงุดุชุฑุงูุงุช ุฅุถุงููุฉ.</li>
                <li>ุชูุธูู ุงููุตูู ุงูุฏุฑุงุณูุฉ ูุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนูููู ููู ุฃููููุงุช ูุญุฏุฏูุง ุงููุนูู.</li>
                <li>ุชููุน ุฃุณุงููุจ ุงูุถูุงู ุงููุชุนูููู ุฅูู ุงููุตูู ุงูุฏุฑุงุณูุฉ ุจูุง ูุชูุงุณุจ ูุน ุงุฎุชูุงู ุงููุธู ุงูุชุนููููุฉ.</li>
                <li>ุฏุนู ุฅุฏุฑุงุฌ ุงููุญุชูู ุงูุชุนูููู ุจุตูุบ ุฑูููุฉ ูุชุนุฏุฏุฉุ ูุซู ุงููุตูุต ูุงูุนุฑูุถ ุงูุชูุฏูููุฉ ูููุงุทุน ุงูููุฏูู.</li>
                <li>ุฅููุงููุฉ ููู ุตูุงุญูุงุช ุฅุฏุงุฑุฉ ุงููุตูู ุงูุฏุฑุงุณูุฉ ุจูู ุงููุนูููู ุฏูู ููุฏุงู ุงููุญุชูู ุฃู ุงูุจูุงูุงุช.</li>
                <li>ุงูุชูุงูู ูุน ุชุทุจููุงุช Google ุงูุชุนููููุฉ ุจูุง ูุนุฒุฒ ููุงุกุฉ ุฅุฏุงุฑุฉ ุงููุญุชูู ูุงูุชูุงุนู ุงูุชุนูููู.</li>
            </ul>
            
            <img src="1000091700.jpg" class="content-image" alt="ุฎุตุงุฆุต ููุตุฉ Google Classroom" style="margin-top: 20px;">
        </div>
        
        <div class="step-container" id="step-8"><h2 class="step-title">ุชูููู ุฐุงุชู (1)</h2><div class="quiz-box"><div class="question">1. ุชูุฏู ููุตุฉ Google Classroom ุฅูู ุชุจุณูุท ุฅูุดุงุก ุงููุตูู ุงูุฏุฑุงุณูุฉ ุนุจุฑ ุจูุฆุฉ ุณุญุงุจูุฉ.</div><div class="options-group"><input type="radio" name="sa1_q1" id="sa1_q1_t" value="true"><label class="option-label" for="sa1_q1_t">ุตูุงุจ</label><input type="radio" name="sa1_q1" id="sa1_q1_f" value="false"><label class="option-label" for="sa1_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูุง ูููู ุงููุตูู ุฅูู Google Classroom ุฅูุง ูู ุฎูุงู ุชุทุจูู ุงููุงุชู ุงููุญููู.</div><div class="options-group"><input type="radio" name="sa1_q2" id="sa1_q2_t" value="true"><label class="option-label" for="sa1_q2_t">ุตูุงุจ</label><input type="radio" name="sa1_q2" id="sa1_q2_f" value="false"><label class="option-label" for="sa1_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa1', 'true', 'false')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa1" class="quiz-result"></div></div></div>
        
        <div class="step-container" id="step-9"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091609.jpg" class="content-image"></div>
        <div class="step-container" id="step-10"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091610.jpg" class="content-image"></div>
        <div class="step-container" id="step-11"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091611.jpg" class="content-image"></div>
        
        <div class="step-container" id="step-12"><h2 class="step-title">ุชูููู ุฐุงุชู (2)</h2><div class="quiz-box"><div class="question">1. ูุชู ุงูุงูุถูุงู ุฅูู ุตู ุฏุฑุงุณู ูุงุฆู ุจุงุณุชุฎุฏุงู ุฑูุฒ ุงูุตู ูู ุฎูุงู ุฎูุงุฑ Join Class.</div><div class="options-group"><input type="radio" name="sa2_q1" id="sa2_q1_t" value="true"><label class="option-label" for="sa2_q1_t">ุตูุงุจ</label><input type="radio" name="sa2_q1" id="sa2_q1_f" value="false"><label class="option-label" for="sa2_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูููู ุชุนุฏูู ุงุณู ุงูุตู ุงูุฏุฑุงุณู ุจุนุฏ ุฅูุดุงุฆู ุฏุงุฎู Google Classroom.</div><div class="options-group"><input type="radio" name="sa2_q2" id="sa2_q2_t" value="true"><label class="option-label" for="sa2_q2_t">ุตูุงุจ</label><input type="radio" name="sa2_q2" id="sa2_q2_f" value="false"><label class="option-label" for="sa2_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa2', 'true', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa2" class="quiz-result"></div></div></div>
        
        <div class="step-container" id="step-13"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091615.jpg" class="content-image"></div>
        <div class="step-container" id="step-14"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091616.jpg" class="content-image"></div>
        <div class="step-container" id="step-15"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091619.jpg" class="content-image"></div>
        
        <div class="step-container" id="step-16"><h2 class="step-title">ุชูููู ุฐุงุชู (3)</h2><div class="quiz-box"><div class="question">1. ูุณูุญ ุฎูุงุฑ Customize ุจุชุบููุฑ ุบูุงู ุงูุตู ุงูุฏุฑุงุณู.</div><div class="options-group"><input type="radio" name="sa3_q1" id="sa3_q1_t" value="true"><label class="option-label" for="sa3_q1_t">ุตูุงุจ</label><input type="radio" name="sa3_q1" id="sa3_q1_f" value="false"><label class="option-label" for="sa3_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูุชู ุฅุถุงูุฉ ูุนูู ุฌุฏูุฏ ุฅูู ุงูุตู ูู ุฎูุงู ุชุจููุจ People ุฏุงุฎู ุงูููุตุฉ.</div><div class="options-group"><input type="radio" name="sa3_q2" id="sa3_q2_t" value="true"><label class="option-label" for="sa3_q2_t">ุตูุงุจ</label><input type="radio" name="sa3_q2" id="sa3_q2_f" value="false"><label class="option-label" for="sa3_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa3', 'true', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa3" class="quiz-result"></div></div></div>
        
        <div class="step-container" id="step-17"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091623.jpg" class="content-image"></div>
        <div class="step-container" id="step-18"><h2 class="step-title">ุงููุญุชูู ุงูุชุนูููู</h2><img src="1000091624.jpg" class="content-image"></div>
        
        <div class="step-container" id="step-19"><h2 class="step-title">ุชูููู ุฐุงุชู (4)</h2><div class="quiz-box"><div class="question">1. ูุชู ุฅุฏุฎุงู ุนููุงู ุงููุงุฌุจ ุงูุฏุฑุงุณู ุฏุงุฎู Google Classroom ูู ุฎุงูุฉ Customize.</div><div class="options-group"><input type="radio" name="sa4_q1" id="sa4_q1_t" value="true"><label class="option-label" for="sa4_q1_t">ุตูุงุจ</label><input type="radio" name="sa4_q1" id="sa4_q1_f" value="false"><label class="option-label" for="sa4_q1_f">ุฎุทุฃ</label></div><div class="question">2. ูุชู ุชุญุฏูุฏ ููุนุฏ ุชุณููู ุงููุงุฌุจ ุงูุฏุฑุงุณู ูู ุฎูุงู ุฎูุงุฑ Due.</div><div class="options-group"><input type="radio" name="sa4_q2" id="sa4_q2_t" value="true"><label class="option-label" for="sa4_q2_t">ุตูุงุจ</label><input type="radio" name="sa4_q2" id="sa4_q2_f" value="false"><label class="option-label" for="sa4_q2_f">ุฎุทุฃ</label></div><button class="quiz-submit-btn" onclick="submitSA('sa4', 'false', 'true')">ุชุญูู ูู ุงูุฅุฌุงุจุงุช</button><div id="res_sa4" class="quiz-result"></div></div></div>

        <div class="step-container" id="step-20">
            <h2 class="step-title">ุงููุดุงุท ุงูุชุฏุฑูุจู</h2>
            <div class="split-layout">
                <div class="text-side">
                    <p class="content-text"><strong>ุนุฒูุฒู ุงููุชุนูู..</strong> ุชูุงุนู ูุน ุงููุธุงู ุงูุฐูู ูู ุฎูุงู ุงุฎุชูุงุฑ ุงููููุงุช ุงูููุชุงุญูุฉ ุงููุฑุชุจุทุฉ ุจุฅุญุชูุงุฌุงุชู ุงููุนููุฉ ุงูุฎุงุตุฉ ุจุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุญุชูู ุงูุชุนูููู ุฏุงุฎู ููุตุฉ Google Classroomุ ุซู ูู ุถูุก ุชูู ุงูุงุณุชุฌุงุจุงุช ุงููุนุฑูุถุฉ ูู ุจุชูููุฐ ุงููููุฉ ุงูุขุชูุฉ:</p>
                    <div style="background:#f0f4f8; padding:20px; border-right:5px solid var(--classroom-color); border-radius:8px; margin-top:20px;">
                        <h4 style="color:var(--primary-navy); margin-bottom:10px;">๐ฏ ุงููุทููุจ:</h4>
                        <p style="margin:0; font-weight:700;">ุฃูุดุฆ ุตููุง ุฏุฑุงุณููุง ุฌุฏูุฏูุง ูุฃุฏุฎู ุจูุงูุงุชู ุจุตูุฑุฉ ุฏูููุฉุ ูุนุฏู ุบูุงูู ูุฅุนุฏุงุฏุงุชู ุจูุง ูุชูุงุณุจ ูุน ุทุจูุนุฉ ุงูุตูุ ูุจุนุฏ ุฐูู ูุฏู ูุงุฌุจูุง ุฏุฑุงุณููุง ูุญุฏุฏ ุงูุนููุงู ูููุนุฏ ุงูุชุณููู.</p>
                    </div>
                    <a href="https://classroom.google.com/u/1/h" target="_blank" class="action-btn platform-btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> ุชุทุจูู ุนููู ุนูู Google Classroom โ</a>
                </div>
                
                <div class="img-side">
                    <div class="chat-container">
                        <div class="chat-header"><i class="fa-solid fa-robot" style="font-size:20px;"></i> ุงููุญุงุฏุซุฉ ุงูุฐููุฉ ูู Google Classroom</div>
                        
                        <div class="chat-fixed-top">
                            <div class="chat-welcome-box">ุฃููุงู ุจู! ุชูุงุนู ูุนู ูุงุฎุชูุงุฑ ุงูููุงู ุงูุฎุงุตุฉ ุจุฅุฏุงุฑุฉ ุงููุตูู ุงูุฏุฑุงุณูุฉ ูุชูุฌูู ุงุณุชูุณุงุฑุงุชู ูููุฌุฒ ุงููุดุงุท ุจูุฌุงุญ.</div>
                        </div>

                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-suggestions" id="chatSuggestions"></div>
                        </div>

                        <div class="chat-input-area">
                            <input type="text" id="chatInput" placeholder="ุงูุชุจ ุณุคุงูู ููุง..." onkeypress="handleChatKey(event)">
                            <button onclick="sendChatMessage()"><i class="fa-solid fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="step-container" id="step-21">
            <h2 class="step-title">ุงููููุฉ ุงูุฃุฏุงุฆูุฉ ุงูุจุนุฏูุฉ</h2>
            <div class="task-instructions">
                <h3>โ ุชุนูููุงุช ุฃุฏุงุก ุงููููุฉ ุงูุจุนุฏูุฉ:</h3>
                <p class="content-text">ุนุฒูุฒู ุงููุชุนูู...ุจุนุฏ ุงูุงูุชูุงุก ูู ุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ููุทูุจ ููู ุชูููุฐ ุงููููุฉ ุงูุขุชูุฉ ูู ุถูุก ูุง ุงูุชุณุจุชู ูู ูุนุงุฑู ูููุงุฑุงุชุ ูุฐูู ุจูุฏู ููุงุณ ูุณุชูู ุชุทูุฑ ุฃุฏุงุฆู ุจุนุฏ ุงูุฏุฑุงุณุฉุ ูุฑุฌู ูุฑุงุนุงุฉ ุงูุชุนูููุงุช ุงูุขุชูุฉ:</p>
                <ul class="content-list">
                    <li>ุชูููุฐ ุงููููุฉ ุจุตูุฑุฉ ูุฑุฏูุฉ.</li>
                    <li>ุชูุธูู ุงูููุงุฑุงุช ุงูููุชุณุจุฉ ุจุตูุฑุฉ ูุชูุงููุฉ ุฃุซูุงุก ุงูุชูููุฐ.</li>
                    <li>ุงูุงูุชุฒุงู ุจูุชุทูุจุงุช ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ ูู ูุต ุงููููุฉ.</li>
                    <li>ุงุณุชููุงุก ุฌููุน ุนูุงุตุฑ ุงูุฃุฏุงุก ูุจู ุงูุชุณููู.</li>
                    <li>ุฑูุน ูุงุชุฌ ุงูุฃุฏุงุก ุงูููุงุฆู ูู ุงูููุงู ุงููุฎุตุต ุฏุงุฎู ุงูุจูุฆุฉ ุงูุชุนููููุฉ.</li>
                </ul>
            </div>
            <img src="1000091633.jpg" class="content-image">
            <a href="https://classroom.google.com/u/1/h" target="_blank" class="action-btn platform-btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> ุชุทุจูู ุนููู ุนูู Google Classroom โ</a>
            
            <div class="submission-area">
                <span class="submission-text">ุดุงุฑู ุฑุงุจุท ุงููููุฉ ููุนููู ููุง โฌ๏ธ</span>
                <a href="https://wa.me/qr/D2OMSRXECH7UE1" target="_blank" class="action-btn whatsapp-btn"><i class="fa-brands fa-whatsapp"></i> ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</a>
            </div>
        </div>

        <div class="step-container" id="step-22">
            <h2 class="step-title">ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ ุงูุจุนุฏู</h2>
            <div class="quiz-box">
                <h3 style="color: var(--primary-navy); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 10px;">๐ฏ ูุฏู ุงูุงุฎุชุจุงุฑ:</h3>
                <p class="content-text">ูุฐุง ุงูุงุฎุชุจุงุฑ ูุถุน ูููุงุณ ูุฏู ุชุญุตููู ูู ุงูุฌูุงูุจ ุงููุนุฑููุฉ ุงููุฑุชุจุทุฉ ููุงุฑุงุช ุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุญุชูู ุงูุชุนูููู ุงูุฑููู ุชุทุจูููุง ุนูู ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู Google Classroom.</p>
                
                <h3 style="color: var(--primary-navy); margin-bottom: 15px; margin-top: 25px; border-bottom: 2px solid #eee; padding-bottom: 10px;">๐ ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ:</h3>
                <p class="content-text">ูู ูุถูู ุนุฒูุฒู ุงูุทุงูุจ ุงูุฑุฃ ุงูุชุนูููุงุช ุงูุชุงููุฉ ุจุนูุงูุฉ ูุงูุงุณุชุฑุดุงุฏ ุจูุง ูุจู ุฃู ุชุจุฏุฃ ูู ุฅุฌุงุจุฉ ุงูุงุฎุชุจุงุฑ:</p>
                <ul class="content-list">
                    <li>ูุชููู ูุฐุง ุงูุงุฎุชุจุงุฑ ูู ุฌุฒุฆููุ ูุดุชูู ุงูุฌุฒุก ุงูุฃูู ุนูู ุนุจุงุฑุงุช ูู ููุน ุงูุตูุงุจ ูุงูุฎุทุฃุ ููุดุชูู ุงูุฌุฒุก ุงูุซุงูู ุนูู ุจููุฏ ูู ููุน ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ.</li>
                    <li>ุนูุฏ ุงูุฅุฌุงุจุฉ ุนู ุฃุณุฆูุฉ ุงูุตูุงุจ ูุงูุฎุทุฃ ุณูู ุชุฌุฏ ุฃุณูู ูู ุณุคุงู ุนูุงูุชุงูุ ุฅุญุฏุงููุง ุตูุงุจ ูุงูุฃุฎุฑู ุฎุทุฃุ ูุนููู ุฃู ุชุถุบุท ุนูู ุงูุนูุงูุฉ ุงูุตุญูุญุฉ ุจุงุณุชุฎุฏุงู ูุคุดุฑ ุงููุฃุฑุฉุ ูุงูููุฑ ุนูู ุงูุณุคุงู ุงูุชุงูู.</li>
                    <li>ุนูุฏ ุงูุฅุฌุงุจุฉ ุนู ุจููุฏ ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ ุนููู ุฃู ุชุถุบุท ุนูู ุงูุฅุฌุงุจุฉ ุงูุชู ุชุฑุงูุง ุตุญูุญุฉุ ูู ุจูู ุงูุจุฏุงุฆู ุงูุฃุฑุจุนุฉ ุงููุชุงุญุฉ ุจูุคุดุฑ ุงููุฃุฑุฉ.</li>
                    <li><strong style="color:#e74c3c;">ุฅุฐุง ุญุตูุช ูู ููุงูุฉ ุงูุงุฎุชุจุงุฑ ุนูู 90% ูุฃูุซุฑุ ููุณุช ูู ุญุงุฌุฉ ูุฏุฑุงุณุฉ ูุฐุง ุงูููุฏูููุ ูุฅุฐุง ุญุตูุช ุนูู ุฃูู ูู 90%ุ ูุงุจุฏุฃ ูุจุงุดุฑุฉ ูู ุฏุฑุงุณุฉ ุงูููุฏููู ุงูุชุนูููู.</strong></li>
                </ul>
            </div>
            <button class="quiz-submit-btn" style="background: var(--classroom-color);" onclick="navigateStep(1)">ุงุถุบุท ูุจุฏุก ุงูุงุฎุชุจุงุฑ ๐</button>
        </div>

        <div class="step-container" id="step-23">
            <h2 class="step-title">ุงูุงุฎุชุจุงุฑ ุงูุชุญุตููู ุงูุจุนุฏู</h2>
            <div id="postTestContainer" class="quiz-box"></div>
            <button class="quiz-submit-btn" onclick="evaluatePostTest()" id="postTestSubmitBtn">ุฅุฑุณุงู ุงูุฅุฌุงุจุงุช ุงูููุงุฆูุฉ</button>
            <div id="postTestResult" class="quiz-result"></div>
        </div>

    </div>

    <div class="bottom-nav">
        <button class="nav-btn prev-btn" id="prevBtn" onclick="navigateStep(-1)"><i class="fa-solid fa-arrow-right"></i> ุงูุณุงุจู</button>
        <button class="nav-btn next-btn" id="nextBtn" onclick="navigateStep(1)">ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i></button>
    </div>

    <script>
        let currentUser = localStorage.getItem("currentUser") || "ููุณู";
        const totalSteps = 23; 
        let highestStep = parseInt(localStorage.getItem(currentUser + "_mod2_highestStep")) || 1;
        let currentStep = 1;

        const quizSteps = [8, 12, 16, 19];

        const urlParams = new URLSearchParams(window.location.search);
        let stepParam = parseInt(urlParams.get('step'));
        if (stepParam && stepParam <= highestStep) { currentStep = stepParam; } 
        else if (stepParam && stepParam > highestStep) { currentStep = highestStep; }

        // ================= ุงูุดุงุช ุจูุช ุงููุญุฏุซ ุจุฑุฏูุฏ Google Classroom =================
        const botKnowledge = [
            { 
                keywords: ["ุชุณุฌูู ุงูุฏุฎูู", "ุชุณุฌูู", "login", "ููู ุฃุณุฌู"], 
                reply: "ุนูุดุงู ุชุจุฏุฃ ุงุณุชุฎุฏุงู Google Classroom ุ ุงูุชุญ ุงูุฃูู ูุชุตูุญ ุงูุฅูุชุฑูุช ุนูุฏู ุฒู Chrome ุฃู Edgeุ ูุจุนุฏ ูุฏู ุงูุชุจ www.google.com ูู ุดุฑูุท ุงูุนููุงู ูุงุถุบุท Enter. ููุง ุชูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉุ ูุชูุงูู ุฃููููุฉ Google apps ูููุ ุงุถุบุท ุนูููุง ูุงุฎุชุงุฑ Classroom. ุฏูููุชู ุงูุชุจ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ุฎุงูุฉ Gmail ูุงุถุบุท Nextุ ูุจุนุฏูุง ุงูุชุจ ูููุฉ ุงููุฑูุฑ ูุงุถุบุท Next ูุฑุฉ ุชุงููุฉุ ููู ุงูููุงูุฉ ุงุถุบุท Continue ุนูุดุงู ูุชู ุชุญููู ูุงุฌูุฉ ุงูุตููู ุงูุฏุฑุงุณูุฉ ูุชุฏุฎู ุนูู ุญุณุงุจู." 
            },
            { 
                keywords: ["ุชุบููุฑ ุงููุบุฉ", "ูุบุฉ", "ุนุฑุจูุฉ", "language"], 
                reply: "ูู ุญุงุจุจ ุชุณุชุฎุฏู ุงูููุตุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉุ ุงุถุบุท ุนูู ุตูุฑุฉ ุญุณุงุจู ูู ุฃุนูู ุงูุตูุญุฉ ูุจุนุฏูุง ุงุฎุชุงุฑ Manage your Google Accountุ ููุง ุชูุชุญ ุตูุญุฉ ุงูุญุณุงุจ ุฑูุญ ูุชุจููุจ Personal Info ูุงูุฒู ูุญุฏ ูุง ุชูุตู ูุฎูุงุฑ Language ุงุถุบุท ุนูู ุงูุณูู ุงูููุฌูุฏ ูุฏุงู ุงููุบุฉ ุงูุญุงููุฉุ ูุงุฎุชุงุฑ ุงููุบุฉ ุงูุนุฑุจูุฉ ูู ุงููุงุฆูุฉ ููุชูุงุญุธ ุฅู ูุบุฉ ุงููุงุฌูุฉ ุงุชุบูุฑุช ุชููุงุฆููุง." 
            },
            { 
                keywords: ["ุฅูุดุงุก ุตู", "ุตู", "ุฌุฏูุฏ", "ุงูุถูุงู", "create class", "join"], 
                reply: "ุจุนุฏ ูุง ุชุณุฌู ุงูุฏุฎูู ูุชุฏุฎู ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉุ ุงุถุบุท ุนูู ุฃููููุฉ Create or Join a Classุ ูู ูุชูุดุฆ ุตู ุฌุฏูุฏ ุงุฎุชุงุฑ Create Classุ ููุนู ุฎูุงุฑ ุงูููุงููุฉ ุนูู ุงูุดุฑูุทุ ูุจุนุฏูุง ุงุถุบุท Continue ุนูุดุงู ุชูุชูู ูุฎุทูุฉ ุฅุฏุฎุงู ุงูุจูุงูุงุชุ ุงูุชุจ ุงุณู ุงูุตู ูู ุฎุงูุฉ Class Nameุ ูุฃุฏุฎู ุงูุจูุงูุงุช ุงูุฅุถุงููุฉุ ูุจุนุฏ ูุง ุชุฎูุต ุงุถุบุท Create ูุฅูุดุงุก ุงูุตู ุจูุฌุงุญ. ููู ูุชูุถู ูุตู ููุฌูุฏุ ุงุถุบุท ูุฑุฉ ุชุงููุฉ ุนูู Create or Join a Class ูุงุฎุชุงุฑ Join Classุ ูุงูุชุจ ุฑูุฒ ุงูุตู ูู ุฎุงูุฉ Class Codeุ ูุจุนุฏูุง ุงุถุบุท Join ูุชุฃููุฏ ุนูููุฉ ุงูุงูุถูุงู." 
            },
            { 
                keywords: ["ุฅุนุฏุงุฏุงุช ุงูุตู", "ุฅุนุฏุงุฏุงุช", "ุชุบููุฑ ุดูู", "customize", "settings"], 
                reply: "ูู ุญุงุจุจ ุชุบูุฑ ุดูู ุงูุบูุงูุ ุงุฏุฎู ุนูู ุงูุตู ูุงุถุบุท ุนูู Customizeุ ูุจุนุฏูุง ุงุฎุชุงุฑ Upload photo ูุญุฏุฏ ุงูุตูุฑุฉ ูู ุฌูุงุฒู ุนู ุทุฑูู Browse ูุงุถุบุท Save ุนูุดุงู ูุชู ุชุญุฏูุซ ุงูุบูุงู. ููู ุนุงูุฒ ุชุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ุงุถุบุท ุนูู ุฃููููุฉ Settingsุ ููู ููุงู ุชูุฏุฑ ุชุนุฏู ุจูุงูุงุช ุงูุตูุ ูุชุชุญูู ูู Class Code ุจุงุณุชุฎุฏุงู Turned On ุฃู Turn Off ุฃู Resetุ ูููุงู ูู ุชุจููุจ Stream ุชุญุฏุฏ ุทุฑููุฉ ุชูุงุนู ุงูุทูุงุจ ุจุงุฎุชูุงุฑ ุงูุณูุงุญ ุจุงูุชุนููู ุฃู ุงููุดุฑุ ููู ุงูุขุฎุฑ ุงุถุบุท Save ูุญูุธ ุงูุชุบููุฑุงุช." 
            },
            { 
                keywords: ["ุฃุนุถุงุก", "ุฅุถุงูุฉ", "ุญุฐู", "ุทูุงุจ", "ูุนูู", "people"], 
                reply: "ูุฅุฏุงุฑุฉ ุงูุฃุนุถุงุก ุฑูุญ ูุชุจููุจ Peopleุ ูู ุนุงูุฒ ุชุถูู ูุนูู ุงุถุบุท Invite Teachersุ ูุงูุชุจ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงุถุบุท Inviteุ ููู ุนุงูุฒ ุชุญุฐู ูุนูู ุงุถุบุท ุนูู ุงูุฃููููุฉ ุงููู ุฌูุจ ุงุณูู ูุงุฎุชุงุฑ Remove. ูููุณ ุงูููุฑุฉ ูุน ุงูุทูุงุจ: ุงุถุบุท Invite Students ูุฃุฏุฎู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงุถุบุท Inviteุ ููู ูุชุญุฐู ุทุงูุจ ุงุถุบุท Actions ุซู Remove ูุจุนุฏูุง ุฃูุฏ ุนูููุฉ ุงูุญุฐู." 
            },
            { 
                keywords: ["ุฅุฏุฑุงุฌ ูุญุชูู", "ูุญุชูู", "ูุดุฑ", "stream", "ูุฑููุงุช"], 
                reply: "ุนูุดุงู ุชูุดุฑ ูุญุชูู ุฏุงุฎู ุงูุตูุ ุงุฏุฎู ุงูุฃูู ุนูู ุงูุตู ุงููุทููุจ ูุจุนุฏูุง ุงูุชุญ ุชุจููุจ Streamุ ุงุถุบุท ุนูู New announcement ุนูุดุงู ุชุจุฏุฃ ููุดูุฑ ุฌุฏูุฏุ ูุงูุชุจ ุงููุต ุฃู ุงูุชุนูููุงุช ุฏุงุฎู ูุฑุจุน ุงููุชุงุจุฉุ ูู ูุญุชุงุฌ ุชุถูู ูุฑููุงุช ุงุณุชุฎุฏู Add Google Drive file ูููู ูู ุฏุฑุงููุ ุฃู Upload file ูููู ูู ุฌูุงุฒูุ ุฃู Add YouTube video ูุฅุถุงูุฉ ููุฏููุ ุฃู Add link ูุฅุถุงูุฉ ุฑุงุจุท ุฎุงุฑุฌู. ุญุฏูุฏ ุงูุทูุงุจ ูู ูุงุฆูุฉ Forุ ููู ุงูููุงูุฉ ุงุถุบุท Post ููุดุฑ ุงููุงุฏุฉ ููุตู." 
            },
            { 
                keywords: ["ูุงุฌุจ", "ูุงุฌุจุงุช", "ุชูููู", "assignment", "classwork"], 
                reply: "ุนูุดุงู ุชุถูู ูุงุฌุจ ุฌุฏูุฏุ ุงูุชุญ ุชุจููุจ Classwork ูุจุนุฏูุง ุงุถุบุท ุนูู Createุ ููู ุงููุงุฆูุฉ ุงุฎุชุงุฑ Assignment. ุฏูููุชู ุงุจุฏุฃ ุจูุชุงุจุฉ ุนููุงู ุงููุงุฌุจ ูู ุฎุงูุฉ Titleุ ูุงูุชุจ ุงูุชุนูููุงุช ุงููุทููุจุฉ ูู Instructions. ุถูู ุงููุฑููุงุช ูู ูุญุชุงุฌุ ูุจุนุฏ ูุฏู ุญุฏูุฏ ุงูุทูุงุจ ูู ูุงุฆูุฉ Forุ ูุงุถุจุท ุงูุฏุฑุฌุฉ ูู Pointsุ ูุญุฏุฏ ููุนุฏ ุงูุชุณููู ูู Due. ูููุง ุชุชุฃูุฏ ุฅู ูู ุงูุจูุงูุงุช ูุธุจูุทุฉ ุงุถุบุท Assign ุนูุดุงู ูุชู ูุดุฑ ุงููุงุฌุจ ุฏุงุฎู ุงูุตู." 
            }
        ];

        const quickReplies = [
            "ููู ุฃุณุฌู ุงูุฏุฎูู ููููุตุฉุ", 
            "ุชุบููุฑ ุงููุบุฉ ููุนุฑุจูุฉ", 
            "ุฅูุดุงุก ุตู ุฃู ุงูุงูุถูุงู ุฅููู", 
            "ุถุจุท ุฅุนุฏุงุฏุงุช ุงูุตู", 
            "ููู ุฃุถูู ุฃู ุฃุญุฐู ุฃุนุถุงุก ุงูุตูุ", 
            "ุฅุฏุฑุงุฌ ูุญุชูู ุชุนูููู", 
            "ููููุฉ ุฅูุดุงุก ูุงุฌุจ ุฏุฑุงุณูุ"
        ];

        function initChatbot() {
            let suggContainer = document.getElementById("chatSuggestions");
            if(suggContainer.children.length > 0) return;
            suggContainer.innerHTML = "";
            quickReplies.forEach(txt => {
                let btn = document.createElement("button");
                btn.className = "sugg-btn";
                btn.innerText = txt;
                btn.onclick = () => { sendChatMessage(txt); };
                suggContainer.appendChild(btn);
            });
        }

        function handleChatKey(e) { if(e.key === 'Enter') sendChatMessage(); }

        function sendChatMessage(textOverride = null) {
            let inputField = document.getElementById("chatInput");
            let userText = textOverride || inputField.value.trim();
            if(!userText) return;
            
            appendMessage("user-msg", userText);
            inputField.value = "";
            let chatBox = document.getElementById("chatMessages");
            
            setTimeout(() => {
                let botReply = getSmartReply(userText);
                appendMessage("bot-msg", botReply);
            }, 800);
        }

        function appendMessage(className, text) {
            let chatBox = document.getElementById("chatMessages");
            let msgDiv = document.createElement("div");
            msgDiv.className = `msg-bubble ${className}`;
            msgDiv.innerText = text;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getSmartReply(text) {
            let lowerText = text.toLowerCase();
            for (let item of botKnowledge) {
                if (item.keywords.some(kw => lowerText.includes(kw.toLowerCase()))) return item.reply;
            }
            return "ุนุฐุฑุงูุ ูู ุฃููู ุณุคุงูู. ูุฑุฌู ุงุฎุชูุงุฑ ุฅุญุฏู ุงููููุงุช ุงูููุชุงุญูุฉ ุงูููุชุฑุญุฉ ุจุงูุฃุนูู.";
        }

        // ================= ุจูู ุงูุฃุณุฆูุฉ ูู Google Classroom (15 ุณุคุงู) =================
        const unifiedQuestions = [
            { q: "ูููู ููู ุตูุงุญูุงุช ุฅุฏุงุฑุฉ ุงููุตูู ูู ููุตุฉ Classroom ุจูู ุงููุนูููู ุฏูู ููุฏุงู ุงููุญุชูู ุงูุชุนูููู.", type: "tf", ans: "true" },
            { q: "ูููู ุฅุนุงุฏุฉ ุชุนููู ุฑูุฒ ุงูุตู ุงูุฏุฑุงุณู ุนูุฏ ุงูุญุงุฌุฉ ุฅูู ุชุบููุฑ ุทุฑููุฉ ุงูุถูุงู ุงูุทูุงุจ.", type: "tf", ans: "true" },
            { q: "ูุง ูุณูุญ Google Classroom ุจุฅุถุงูุฉ ุฃูุซุฑ ูู ูุนูู ูุฅุฏุงุฑุฉ ุงูุตู ุงูุฏุฑุงุณู.", type: "tf", ans: "false" },
            { q: "ูุชู ุฅุฏุฎุงู ุชุนูููุงุช ุงููุงุฌุจ ุงูุฏุฑุงุณู ูู ุฎุงูุฉ Instructions ูุจู ูุดุฑู ููุทูุงุจ.", type: "tf", ans: "true" },
            { q: "ุชุณุชุฎุฏู ุฃููููุฉ Stream ูููุตูู ุฅูู ุงูุณุงุญุฉ ุงูุฑุฆูุณูุฉ ุงููุฎุตุตุฉ ููุงูุถูุงู ููุตู.", type: "tf", ans: "false" },
            { q: "ูุง ุชุณูุญ ููุตุฉ Google Classroom ุจุญุฐู ุทุงูุจ ูู ุงูุตู ุจุนุฏ ุฅุถุงูุชู ุฅูู ูุงุฆูุฉ ุงูุฃุนุถุงุก.", type: "tf", ans: "false" },
            { q: "ุชุชุทูุจ ููุตุฉ ุฌูุฌู ููุงุณ ุฑูู ุชูุตูุจ ุจุฑุงูุฌ ุชูููุฉ ุนูู ุงูุฌูุงุฒ ูุจู ุงูุจุฏุก ูู ุงุณุชุฎุฏุงููุง.", type: "tf", ans: "false" },
            { q: "ูุชู ุฅูุดุงุก ุงููุงุฌุจุงุช ุงูุฏุฑุงุณูุฉ ูุงูุชููููุงุช ูู ุฎูุงู ุงูุชุจููุจ Classwork.", type: "tf", ans: "true" },
            { q: "ุนูุฏ ุฅุนุฏุงุฏ ุงูุชูููู ูุณุชุฎุฏู ุงูุฎูุงุฑ Reset ูุชุญุฏูุฏ ุงูุชุงุฑูุฎ ูุงูููุช ุงูููุงุฆู ูุชุณููู ุงููุงุฌุจ.", type: "tf", ans: "false" },
            { q: "ูููู ุชุนุฏูู ุจูุงูุงุช ุงูุตู ุงูุฏุฑุงุณู ูู ุฌูุฌู ููุงุณ ุฑูู ูู ุฎูุงู ุฑูุฒ ุงูุงูุถูุงู ููุตู.", type: "tf", ans: "false" },
            
            { q: "ูุณุชุฎุฏู ุฎูุงุฑ Assign ุฏุงุฎู ููุตุฉ Google Classroom ูู ุฃุฌู:", type: "mcq", opts: ["ุชุนุฏูู ุบูุงู ุงูุตู.", "ูุดุฑ ุงููุงุฌุจ ูู ุงูุตู.", "ุฅุถุงูุฉ ูุนูู.", "ุญุฐู ุงููุญุชูู."], ans: "ูุดุฑ ุงููุงุฌุจ ูู ุงูุตู." },
            { q: "ูุชู ุฅูุดุงุก ุตู ุฏุฑุงุณู ุฌุฏูุฏ ุฏุงุฎู Google Classroom ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู ูู ุฎูุงู ุงุฎุชูุงุฑ:", type: "mcq", opts: ["Join Class.", "Create Class.", "Class Details.", "Display Class."], ans: "Create Class." },
            { q: "ูุณุชุฎุฏู ุฎูุงุฑ Move to top ุฏุงุฎู Stream ูู ุฃุฌู:", type: "mcq", opts: ["ุญุฐู ุงููุญุชูู.", "ุชุนุฏูู ุงููุงุฌุจ.", "ุชุซุจูุช ุงููุญุชูู.", "ุฅุบูุงู ุงูุตู."], ans: "ุชุซุจูุช ุงููุญุชูู." },
            { q: "ูุนุชูุฏ Google Classroom ูู ุฅุฏุงุฑุฉ ุงูุตููู ูุชูุธูู ุงููุญุชูู ุงูุชุนูููู ุนูู:", type: "mcq", opts: ["ุงูุชุฎุฒูู ุงููุญูู.", "ุงูุฃูุฑุงุต ุงููุฏูุฌุฉ.", "ุงูุดุจูุงุช ุงูุฏุงุฎููุฉ.", "ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ."], ans: "ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ." },
            { q: "ูุชู ุชุญุฏูุฏ ููุนุฏ ุชุณููู ุงููุงุฌุจ ุงูุฏุฑุงุณู ูู ุฎูุงู ุงูุฃูุฑ:", type: "mcq", opts: ["Title.", "Due.", "Reset.", "Points."], ans: "Due." }
        ];

        // ุฏุงูุฉ ูุนูู Shuffle ููุฃุณุฆูุฉ ูู ุงูุงุฎุชุจุงุฑ ุงูุจุนุฏู
        function getShuffledQuestions() {
            let tfQuestions = unifiedQuestions.filter(q => q.type === 'tf');
            let mcqQuestions = unifiedQuestions.filter(q => q.type === 'mcq');
            
            for (let i = tfQuestions.length - 1; i > 0; i--) { 
                const j = Math.floor(Math.random() * (i + 1)); 
                [tfQuestions[i], tfQuestions[j]] = [tfQuestions[j], tfQuestions[i]]; 
            }
            
            for (let i = mcqQuestions.length - 1; i > 0; i--) { 
                const j = Math.floor(Math.random() * (i + 1)); 
                [mcqQuestions[i], mcqQuestions[j]] = [mcqQuestions[j], mcqQuestions[i]]; 
            }
            
            return [...tfQuestions, ...mcqQuestions];
        }

        function shuffleOptions(array) { 
            for (let i = array.length - 1; i > 0; i--) { 
                const j = Math.floor(Math.random() * (i + 1)); 
                [array[i], array[j]] = [array[j], array[i]]; 
            } 
        }

        // ุฑุณู ุงูุงุฎุชุจุงุฑุงุช
        function renderTest(containerId, questionsArray, prefix) {
            let container = document.getElementById(containerId);
            container.innerHTML = "";
            
            let tfHtml = `<h3 style="color: var(--primary-navy); margin: 0 0 15px; border-bottom: 2px solid #eee; padding-bottom: 10px; font-size: 20px;">ุฃููุงู: ุนุจุงุฑุงุช ุงูุตูุงุจ ูุงูุฎุทุฃ</h3>`;
            let mcqHtml = `<h3 style="color: var(--primary-navy); margin: 35px 0 15px; border-bottom: 2px solid #eee; padding-bottom: 10px; font-size: 20px;">ุซุงููุงู: ุฃุณุฆูุฉ ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ</h3>`;
            
            let tfCount = 1;
            let mcqCount = 1;

            questionsArray.forEach((item, index) => {
                let qNumber = item.type === 'tf' ? tfCount++ : mcqCount++;
                let qHtml = `<div class="question" data-original-q="${item.q}">${qNumber}. ${item.q}</div>`;
                let optGroup = `<div class="options-group ${item.type === 'mcq' ? 'mcq' : ''}">`;
                let options = item.type === "tf" ? [{l:"ุตูุงุจ", v:"true"}, {l:"ุฎุทุฃ", v:"false"}] : item.opts.map(o => ({l:o, v:o}));
                
                if (item.type === "mcq") shuffleOptions(options); 
                
                options.forEach(opt => {
                    let id = `${prefix}_q${index}_${Math.random().toString(36).substr(2, 5)}`;
                    optGroup += `<input type="radio" name="${prefix}_q${index}" id="${id}" value="${opt.v}"><label class="option-label" for="${id}">${opt.l}</label>`;
                });
                optGroup += `</div>`;
                
                if (item.type === 'tf') tfHtml += qHtml + optGroup;
                else mcqHtml += qHtml + optGroup;
            });
            
            container.innerHTML = tfHtml + mcqHtml;
        }

        // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
        function updateUI() {
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${currentStep}`).classList.add('active');
            
            document.getElementById('progressFill').style.width = `${(currentStep / totalSteps) * 100}%`;
            
            let prevBtn = document.getElementById('prevBtn');
            prevBtn.style.visibility = currentStep === 1 ? 'hidden' : 'visible';
            
            let nextBtn = document.getElementById('nextBtn');
            nextBtn.className = 'nav-btn next-btn'; 
            nextBtn.style.display = 'flex'; 
            nextBtn.innerHTML = `ุงูุชุงูู <i class="fa-solid fa-arrow-left"></i>`;

            if (quizSteps.includes(currentStep)) {
                let prefix = currentStep === 8 ? 'sa1' : currentStep === 12 ? 'sa2' : currentStep === 16 ? 'sa3' : 'sa4';
                let isSolved = localStorage.getItem(currentUser + "_mod2_quiz_" + currentStep) === "true";
                
                if (!isSolved) { 
                    document.querySelectorAll(`input[name^="${prefix}"]`).forEach(el => el.checked = false);
                    let resBox = document.getElementById(`res_${prefix}`);
                    if(resBox) { resBox.style.display = 'none'; resBox.className = 'quiz-result'; resBox.innerHTML = ''; }
                    nextBtn.classList.add('disabled'); 
                    nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุฌุจ ุฃููุงู`; 
                }
            } 
            else if (currentStep === 5) {
                let isDone = localStorage.getItem(currentUser + "_mod2_preTest") === "true";
                if(!isDone) { nextBtn.classList.add('disabled'); nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุชูู ุงูุงุฎุชุจุงุฑ`; } 
                else { 
                    let perc = parseFloat(localStorage.getItem(currentUser + "_mod2_preTestScore")) || 0;
                    if(perc >= 90) { nextBtn.innerHTML = "ุงูุนูุฏุฉ ูููุงุฆูุฉ"; nextBtn.onclick = () => { window.location.href = "home.html"; }; }
                }
                if(!document.getElementById("preTestContainer").innerHTML) renderTest("preTestContainer", unifiedQuestions, "pre");
            } 
            else if (currentStep === 23) {
                let isDone = localStorage.getItem(currentUser + "_mod2_postTest") === "true";
                let passed = localStorage.getItem(currentUser + "_mod2_postPassed") === "true";
                if(!isDone) { nextBtn.classList.add('disabled'); nextBtn.innerHTML = `<i class="fa-solid fa-lock"></i> ุฃุชูู ุงูุงุฎุชุจุงุฑ`; } 
                else if (!passed) { nextBtn.className = 'nav-btn next-btn restart-btn'; nextBtn.innerHTML = `ุฅุนุงุฏุฉ ุงูููุฏููู ๐`; } 
                else { nextBtn.innerHTML = `ุงูุนูุฏุฉ ูููุงุฆูุฉ <i class="fa-solid fa-check"></i>`; nextBtn.style.background = "#2ecc71";}
                
                if(!document.getElementById("postTestContainer").innerHTML) {
                    let shuffled = getShuffledQuestions();
                    renderTest("postTestContainer", shuffled, "post");
                }
            } 
            else if (currentStep === 4 || currentStep === 22) {
                nextBtn.style.display = "none"; 
            }

            if(currentStep === 20) initChatbot();
        }

        function navigateStep(direction) {
            let nextBtn = document.getElementById('nextBtn');
            if (direction === 1 && nextBtn.classList.contains('disabled')) return alert("ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุจุดูู ุตุญูุญ ุฃู ุฅุชูุงู ุงููููุฉ ุฃููุงู.");

            if (direction === 1 && nextBtn.classList.contains('restart-btn')) {
                currentStep = 1; localStorage.setItem(currentUser + "_mod2_postTest", "false"); 
                document.getElementById("postTestContainer").innerHTML = ""; document.getElementById("postTestResult").style.display = "none";
                document.getElementById("postTestSubmitBtn").style.display = "block"; updateUI(); window.scrollTo({top:0, behavior:'smooth'}); return;
            }
            if (direction === 1 && currentStep === totalSteps) { localStorage.setItem(currentUser + "_unlockedModule", 3); window.location.href = "home.html"; return; }
            
            currentStep += direction;
            if (currentStep > highestStep) { highestStep = currentStep; localStorage.setItem(currentUser + "_mod2_highestStep", highestStep); }
            updateUI(); window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function submitSA(prefix, ans1, ans2) {
            let q1 = document.querySelector(`input[name="${prefix}_q1"]:checked`);
            let q2 = document.querySelector(`input[name="${prefix}_q2"]:checked`);
            if (!q1 || !q2) return alert("ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ.");
            
            let score = (q1.value === ans1 ? 1 : 0) + (q2.value === ans2 ? 1 : 0);
            let resBox = document.getElementById(`res_${prefix}`); 
            resBox.style.display = "block";
            
            if (score === 2) { 
                resBox.className = "quiz-result result-success"; 
                resBox.innerHTML = "โ ููุชุงุฒ! ุฅุฌุงุจุงุชู ุตุญูุญุฉ."; 
                localStorage.setItem(currentUser + "_mod2_quiz_" + currentStep, "true"); 
            } else if (score === 1) { 
                resBox.className = "quiz-result result-partial"; 
                resBox.innerHTML = "โ๏ธ ูุฏูู ุฅุฌุงุจุฉ ุตุญูุญุฉ ูุฅุฌุงุจุฉ ุฎุงุทุฆุฉุ ุฑูุฒ ุฃูุซุฑ."; 
                localStorage.setItem(currentUser + "_mod2_quiz_" + currentStep, "true"); 
            } else { 
                resBox.className = "quiz-result result-error"; 
                resBox.innerHTML = "โ ุฅุฌุงุจุงุชู ุฎุทุฃุ ุฑุงุฌุน ุงููุญุชูู ูุฑุฉ ุฃุฎุฑู."; 
                localStorage.setItem(currentUser + "_mod2_quiz_" + currentStep, "false"); 
            }
            updateUI(); 
        }

        function evaluatePreTest() {
            let score = 0; let missed = false;
            let totalCorrect = 0; let totalWrong = 0;
            
            unifiedQuestions.forEach((item, index) => {
                let ans = document.querySelector(`input[name="pre_q${index}"]:checked`);
                if(!ans) missed = true; 
                else if (ans.value === item.ans) { score++; totalCorrect++; }
                else { totalWrong++; }
            });
            
            if(missed) return alert("ุฃุฌุจ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ.");
            let perc = (score / 15) * 100; 
            
            localStorage.setItem(currentUser + "_mod2_preTestScore", perc);
            localStorage.setItem(currentUser + "_mod2_preTestCorrect", totalCorrect);
            localStorage.setItem(currentUser + "_mod2_preTestWrong", totalWrong);
            localStorage.setItem(currentUser + "_mod2_preTest", "true");
            
            let resBox = document.getElementById("preTestResult"); resBox.style.display = "block";
            if (perc >= 90) {
                resBox.className = "quiz-result result-success"; resBox.innerHTML = `๐ ูุชูุฌุชู: ${Math.round(perc)}%<br>ูุนูู ูู ุงูููุฏููู. ููููู ุงูุนูุฏุฉ ูููุงุฆูุฉ.`;
                localStorage.setItem(currentUser + "_unlockedModule", 3);
            } else {
                resBox.className = "quiz-result result-partial"; resBox.innerHTML = `ูุชูุฌุชู: ${Math.round(perc)}%<br>ุชุญุชุงุฌ ููุฏุฑุงุณุฉ. ุงุถุบุท ุงูุชุงูู ูููุชุงุจุนุฉ.`;
            }
            document.getElementById("preTestSubmitBtn").style.display = "none"; 
            updateUI(); 
        }

        function evaluatePostTest() {
            let score = 0; let missed = false;
            
            let domQuestions = document.querySelectorAll('#postTestContainer .options-group');
            domQuestions.forEach((group, index) => {
                let ans = document.querySelector(`input[name="post_q${index}"]:checked`);
                if(!ans) missed = true; 
                else {
                    let qText = group.previousElementSibling.getAttribute('data-original-q');
                    let originalItem = unifiedQuestions.find(i => i.q === qText);
                    if (originalItem && ans.value === originalItem.ans) score++;
                }
            });
            
            if(missed) return alert("ุฃุฌุจ ุนูู ูุงูุฉ ุงูุฃุณุฆูุฉ.");
            let perc = (score / 15) * 100; 
            let resBox = document.getElementById("postTestResult"); resBox.style.display = "block";
            localStorage.setItem(currentUser + "_mod2_postTest", "true");
            
            if (perc >= 90) { 
                localStorage.setItem(currentUser + "_mod2_postPassed", "true"); 
                resBox.className = "quiz-result result-success"; 
                resBox.innerHTML = `๐ ุนุธูู! ูุชูุฌุชู: ${Math.round(perc)}%<br>ุงุฌุชุฒุช ุงูููุฏููู ุจูุฌุงุญ.`; 
            } else { 
                localStorage.setItem(currentUser + "_mod2_postPassed", "false"); 
                resBox.className = "quiz-result result-error"; 
                resBox.innerHTML = `โ๏ธ ูุชูุฌุชู: ${Math.round(perc)}%<br>ูุฌุจ ุงูุฅุนุงุฏุฉ ูู ุงูุจุฏุงูุฉ.`; 
            }
            document.getElementById("postTestSubmitBtn").style.display = "none"; 
            updateUI(); 
        }

        window.onload = updateUI;
    </script>
</body>
</html>